"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2262],{2262:(U,u,o)=>{o.r(u),o.d(u,{SearchResultPageModule:()=>J});var g=o(6019),d=o(9010),r=o(5793),l=o(9949),p=o(4762),C=o(6271),P=o(8920),M=o(8974),t=o(6079),O=o(759),v=o(6952),h=o(7118),m=o(7440),f=o(7179),y=o(8189),x=o(8148);const Z=["appStatusContent"];function w(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ion-icon",14),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onClickDeleteKeyword()}),t.qZA()}}function T(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"li",15),t.NdJ("click",function(){const s=t.CHM(n).$implicit;return t.oxw(2).onClickArticleItem(s)}),t.TgZ(1,"div",16),t.TgZ(2,"div",17),t._UZ(3,"app-status-image",18),t.qZA(),t.TgZ(4,"div",19),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",20),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",21),t.TgZ(11,"div",22),t.TgZ(12,"span"),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"div",23),t.TgZ(15,"span"),t._uU(16),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=a.$implicit;t.xp6(3),t.Q6J("src",n.thumbnail),t.xp6(3),t.Oqu(n.title),t.xp6(3),t.Oqu(n.subtitle),t.xp6(4),t.Oqu(n.category_name),t.xp6(3),t.Oqu(n.create_time),t.xp6(2),t.Oqu(n.author)}}function k(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t.TgZ(4,"div",6),t.TgZ(5,"ion-item"),t._UZ(6,"ion-icon",7),t.TgZ(7,"ion-input",8),t.NdJ("keyup",function(c){return t.CHM(n),t.oxw().onKeyup(c)})("ngModelChange",function(c){return t.CHM(n),t.oxw().searchKeyword=c}),t.qZA(),t.YNc(8,w,1,0,"ion-icon",9),t.qZA(),t.qZA(),t.TgZ(9,"div",10),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"div",11),t.TgZ(13,"div",12),t.TgZ(14,"ul"),t.YNc(15,T,19,6,"li",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(7),t.Q6J("ngModel",n.searchKeyword),t.xp6(1),t.Q6J("ngIf",n.searchKeyword),t.xp6(3),t.hij("",n.resultTotal,"\u6761\u7ed3\u679c"),t.xp6(4),t.Q6J("ngForOf",n.articleList)}}function S(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._uU(4,"pad layout here"),t.qZA(),t.qZA(),t.BQk()}}function A(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._uU(4,"phone layout here"),t.qZA(),t.qZA(),t.BQk()}}const R=[{path:"",component:(()=>{class e extends P.n{constructor(n,i,c,s,_,I,Y,E,Q,K){super(n,i,c,s),this.loadingCtrl=n,this.toastCtrl=i,this.runtime=c,this.screenFitService=s,this.navCtrl=_,this.modalCtrl=I,this.api=Y,this.router=E,this.routeInfo=Q,this.themeService=K,this.searchKeyword="",this.articleList=[],this.pageIndex=1,this.pageSize=20,this.resultTotal=0,this.routeInfo.queryParams.subscribe(N=>{this.searchKeyword=decodeURIComponent(N.keyword)})}ngOnInit(){this.router.events.subscribe(n=>{n instanceof l.m2&&"/search-result"==n.url&&this.setPageTitle("SearchResult")})}initData(){return(0,p.mG)(this,void 0,void 0,function*(){yield Promise.all([this.fetchArticleList()]),this.appStatusContent.invokeSuccess()})}ionViewWillEnter(){this.setPageTitle("SearchResult")}ionViewDidEnter(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}onRetry(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}back(){this.navCtrl.back()}onClickDeleteKeyword(){this.searchKeyword=""}onKeyup(n){"Enter"===n.code&&(this.searchKeyword?this.fetchArticleList():this.showToast("\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"))}onClickArticleItem(n){this.router.navigate(["/article-detail"],{queryParams:{uid:n.uid}})}fetchArticleList(){return(0,p.mG)(this,void 0,void 0,function*(){const n=(0,C.d8)(M.y,yield this.api.fetchArticleList(null));if(200!=n.code)return Promise.reject({code:n.code,message:n.message});this.resultTotal=n.result.total,n.result.data&&n.result.data.length>0&&(this.articleList=n.result.data)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.HT),t.Y36(r.yF),t.Y36(O.t),t.Y36(v.v),t.Y36(r.SH),t.Y36(r.IN),t.Y36(h.s),t.Y36(l.F0),t.Y36(l.gz),t.Y36(m.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-result"]],viewQuery:function(n,i){if(1&n&&t.Gf(Z,5),2&n){let c;t.iGM(c=t.CRH())&&(i.appStatusContent=c.first)}},features:[t.qOj],decls:6,vars:9,consts:[[3,"fullscreen","scrollEvents"],[1,"page-root","search-result"],[4,"ngIf"],[3,"retry"],["appStatusContent",""],[1,"app-container"],[1,"search-bar"],["slot","start","name","search-outline"],["type","text","placeholder","\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",3,"ngModel","keyup","ngModelChange"],["slot","end","name","close-outline",3,"click",4,"ngIf"],[1,"result-tips"],[1,"result-wrapper"],[1,"article-list"],[3,"click",4,"ngFor","ngForOf"],["slot","end","name","close-outline",3,"click"],[3,"click"],[1,"article-item-card"],[1,"thumbnail-wrapper"],[3,"src"],[1,"title"],[1,"subtitle"],[1,"footer"],[1,"layout-start"],[1,"layout-end"]],template:function(n,i){1&n&&(t.TgZ(0,"ion-content",0),t.TgZ(1,"div",1),t.YNc(2,k,16,4,"ng-container",2),t.YNc(3,S,5,0,"ng-container",2),t.YNc(4,A,5,0,"ng-container",2),t.qZA(),t._UZ(5,"app-common-footer"),t.qZA()),2&n&&(t.Tol(i.screenFitService.screenCategory),t.Q6J("fullscreen",i.themeService.immersive)("scrollEvents",!0),t.xp6(1),t.Tol(i.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","desktop"==i.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","pad"==i.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","phone"==i.screenFitService.screenCategory))},directives:[r.W2,g.O5,f.X,y.D,r.Ie,r.gu,r.pK,r.j9,d.JJ,d.On,g.sg,x.o],styles:['div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%]{width:520px;margin:50px auto 0}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]:nth-of-type(1){display:block;font-size:20px;color:#1e1e1e}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{--padding-start: 0 !important;--padding-end: 0 !important}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]:nth-of-type(2){display:block;font-size:20px;color:#1e1e1e;cursor:pointer}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-tips[_ngcontent-%COMP%]{width:100%;margin-top:30px}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-tips[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;color:#a0a0a0}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%]{width:100%}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%]{width:100%}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;flex-wrap:wrap}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:block;width:calc((100% - 90px)/4);margin-top:30px;margin-left:30px;cursor:pointer}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:nth-of-type(4n + 1){margin-left:0}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%]{width:100%}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.thumbnail-wrapper[_ngcontent-%COMP%]{width:100%;height:10.7368421053vw;min-height:161.0526315789px}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.thumbnail-wrapper[_ngcontent-%COMP%] > app-status-image[_ngcontent-%COMP%]{width:100%;height:100%}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{width:100%;margin-top:12px}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-size:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.subtitle[_ngcontent-%COMP%]{width:100%;margin-top:6px}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.subtitle[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;color:#a0a0a0;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin-top:6px}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.footer[_ngcontent-%COMP%] > div.layout-start[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;color:#5433ff}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.footer[_ngcontent-%COMP%] > div.layout-end[_ngcontent-%COMP%]{display:flex;align-items:center}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.footer[_ngcontent-%COMP%] > div.layout-end[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative;display:block;color:#a0a0a0}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.footer[_ngcontent-%COMP%] > div.layout-end[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){margin-left:12px;padding-left:12px}div.page-root.search-result.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.result-wrapper[_ngcontent-%COMP%] > div.article-list[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div.article-item-card[_ngcontent-%COMP%] > div.footer[_ngcontent-%COMP%] > div.layout-end[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2):after{position:absolute;display:block;content:"";width:4px;height:4px;left:0;top:calc(50% - 2px);border-radius:50%;background-color:#a0a0a0}']}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(R)],l.Bz]}),e})();var F=o(6672),q=o(5919);let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,d.u5,r.Pc,F.G,q.x,b]]}),e})()}}]);