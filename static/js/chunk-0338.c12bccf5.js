(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0338"],{"4Ays":function(t,e,i){"use strict";var r=i("bOEw");i.n(r).a},"7Qib":function(t,e,i){"use strict";i.d(e,"c",function(){return u}),i.d(e,"b",function(){return m}),i.d(e,"a",function(){return p});var r=i("14Xm"),a=i.n(r),s=i("4d7F"),n=i.n(s),l=i("D3Ub"),o=i.n(l),c=(i("mjEM"),i("mSNy"));function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";return Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t},new Date(t).format(e)}function m(t){return t?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"simple",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd hh:mm:ss",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2592e6;if((t=Math.max(t,0))>a)return u((new Date).getTime()-t,i);if(r){if("day"===r){var s=parseInt(t/864e5),n=parseInt(t%864e5/36e5),l=parseInt(t%36e5/6e4);return"simple"===e?c.a.t("time.day",[s]):c.a.t("time.day_hour_minute",[s,n,l])}if("hour"===r){var o=parseInt(t/36e5),m=parseInt(t%36e5/6e4),p=parseInt(t%6e4/1e3);return"simple"===e?c.a.t("time.hour",[o]):c.a.t("time.hour_minute_second",[o,m,p])}if("minute"===r){var d=parseInt(t/6e4),h=parseInt(t%6e4/1e3);return"simple"===e?c.a.t("time.minute",[d]):c.a.t("time.minute_second",[d,h])}var g=parseInt(t/1e3);return c.a.t("time.second",[g])}var f=!1,v=!1,_=!1,b=parseInt(t/864e5);b>0&&(f=!0);var y=parseInt(t%864e5/36e5);y>0&&(v=!0);var S=parseInt(t%36e5/6e4);S>0&&(_=!0);var A=parseInt(t%6e4/1e3);return f?"simple"===e?c.a.t("time.day",[b]):c.a.t("time.day_hour_minute",[b,y,S]):v?"simple"===e?c.a.t("time.hour",[y]):c.a.t("time.hour_minute_second",[y,S,A]):_?"simple"===e?c.a.t("time.minute",[S]):c.a.t("time.minute_second",[S,A]):c.a.t("time.second",[A])}!function(){var t=o()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new n.a(function(t,i){try{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){var i=e.target.result;t(i)}}catch(t){i(t)}}));case 1:case"end":return t.stop()}},t,this)}))}()},NygE:function(t,e,i){},bOEw:function(t,e,i){},d9gN:function(t,e,i){"use strict";i.r(e);var r=i("GQeE"),a=i.n(r),s=i("gDS+"),n=i.n(s),l=i("14Xm"),o=i.n(l),c=i("4d7F"),u=i.n(c),m=i("D3Ub"),p=i.n(m),d=i("QbLZ"),h=i.n(d),g=i("WHOg"),f=i("Khnr"),v=i("L2JU"),_=i("3SlJ"),b=i("yWgo"),y=i("7Qib"),S=i("KTTK"),A={name:"SubmitArticle",components:{VueEditor:g.a},data:function(){return{pageStatus:0,animate:null,isLoading:!1,categoryList:[],relatedDAppList:[],multipleSelection:[],currentSelection:[],displaySelection:[],hotTagList:[],tagInputList:[{value:""}],coverFile:null,tag:[],coverFileBindList:[],customModulesForEditor:[{alias:"imageDrop",module:f.a}],editorSettings:{modules:{imageDrop:!0},theme:"snow"},relatedDialogVisible:!1,isSearchLoading:!1,keyword:"",searchPageIndex:1,searchPageSize:5,dappList:[],dappTotal:0,articleType:"original",hasDraft:!1,lastestSaveTime:0,currentArticleID:0,submitArticleForm:{title:"",subtitle:"",category:"",author:"",sourceURL:"",related_dapp:"",tag:[],cover_url:"",article_content:""},submitArticleFormRules:{},picturePreviewDialogVisible:!1,previewImageURL:""}},computed:h()({},Object(v.b)(["token","language","screenCategory","immersive","color","opacity"])),watch:{language:function(){window.location.reload()},screenCategory:function(){window.location.reload()}},created:function(){var t=this;this.currentArticleID=this.$route.params.id,this.animate=new _.a(this),this.initData().catch(function(e){t.pageStatus=2,console.error(e)})},mounted:function(){this.currentArticleID&&(document.title=this.$t("submit_article.title_edit")),window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{ellipsis:b.a,formatNumber:y.b,formatTimestamp:y.c,initData:function(){var t=this;return p()(o.a.mark(function e(){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.currentArticleID||t.readFromStorage(),t.initFormRules(),i=[t.fetchCategoryList(),t.fetchDAppCustomLabels()],t.currentArticleID&&i.push(t.fetchArticleInfo()),e.next=6,u.a.all(i);case 6:t.pageStatus=1,t.$nextTick(function(){t.fillAnimateRefs()});case 8:case"end":return e.stop()}},e,t)}))()},onRetry:function(){var t=this;this.pageStatus=0,this.initData().catch(function(e){t.pageStatus=2,console.error(e)})},fillAnimateRefs:function(){this.animate.setAnimateData([{ref:"some-ref",classList:["animated","fadeIn"]}])},onClickGotItButton:function(){this.$router.replace("/")},onRelatedDAppDialogClose:function(t){console.error("enter"),this.keyword="",this.searchPageIndex=1,this.dappTotal=0,this.dappList=[],this.clearSelection(),t()},onClickResetForm:function(){this.resetForm()},resetForm:function(){this.$refs.submitArticleForm.resetFields(),this.submitArticleForm={title:"",subtitle:"",category:"",author:"",sourceURL:"",related_dapp:"",cover_url:"",article_content:""},this.clearStorageCache(),this.coverFile=null,this.coverFileBindList=[],this.relatedDAppList=[],this.tagInputList=[],this.handleAddTag()},onClickGotoSubmitDApp:function(){this.$router.push("/submit-dapp")},onClickRemoveSelection:function(t){if(this.displaySelection.length>0){for(var e=-1,i=0;i<this.displaySelection.length;i++){if(this.displaySelection[i].id===t.id){e=i;break}}e>=0&&this.displaySelection.splice(e,1)}if(this.currentSelection.length>0){for(var r=-1,a=0;a<this.currentSelection.length;a++){if(this.currentSelection[a].id===t.id){r=a;break}}r>=0&&this.currentSelection.splice(r,1)}if(this.multipleSelection.length>0){for(var s=-1,n=0;n<this.multipleSelection.length;n++){if(this.multipleSelection[n].id===t.id){s=n;break}}s>=0&&this.multipleSelection.splice(s,1)}},handleTagBlur:function(){var t=this;this.submitArticleForm.tag.splice(0,this.submitArticleForm.tag.length),this.tagInputList.length>0&&this.tagInputList.forEach(function(e){e.value&&t.submitArticleForm.tag.push(e.value)})},handleTagDelete:function(t){this.tagInputList.splice(this.tagInputList.indexOf(t),1),this.handleTagBlur()},handleAddTag:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.tagInputList.length>=5||(null!=t&&setTimeout(function(){var e=document.getElementById("tag-item"+(t+1));e&&e.focus()},200),this.tagInputList.push({value:""}))},handleHotTagItemClick:function(t){if(this.tagInputList.length>0)for(var e=0;e<this.tagInputList.length;e++){if(this.tagInputList[e].value===t.text)return}if(this.tagInputList.length>=5)for(var i=this.tagInputList.length-1;i>=0;i--){if(!this.tagInputList[i].value){this.tagInputList.splice(i,1);break}}this.tagInputList.length>=5||(this.tagInputList.unshift({value:t.text}),this.handleTagBlur())},fetchDAppCustomLabels:function(){var t=this;return p()(o.a.mark(function e(){var i,r,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.z)();case 2:if(1!==(i=e.sent).Status){e.next=10;break}r=i.Result,a=r.data,t.hotTagList=[],a&&a.length>0&&a.forEach(function(e){t.hotTagList.push({text:e.name})}),e.next=14;break;case 10:if(204!==i.ErrCode){e.next=13;break}return t.hotTagList=[],e.abrupt("return");case 13:return e.abrupt("return",u.a.reject({code:i.ErrCode,message:i.ErrMsg}));case 14:case"end":return e.stop()}},e,t)}))()},fetchCategoryList:function(){var t=this;return p()(o.a.mark(function e(){var i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.o)();case 2:if(1!==(i=e.sent).Status){e.next=9;break}r=i.Result,t.categoryList=[],r&&r.length>0&&r.forEach(function(e){t.categoryList.push({id:e.id,name:t.$tt(e.name,e.name_en)})}),e.next=13;break;case 9:if(204!==i.ErrCode){e.next=12;break}return t.categoryList=[],e.abrupt("return");case 12:return e.abrupt("return",u.a.reject({code:i.ErrCode,message:i.ErrMsg}));case 13:case"end":return e.stop()}},e,t)}))()},fetchDAppByKeyword:function(){var t=this;return p()(o.a.mark(function e(){var i,r,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.rb)(t.keyword,t.searchPageIndex,t.searchPageSize);case 2:if(1!==(i=e.sent).Status){e.next=11;break}r=i.Result,a=r.data,t.dappTotal=parseInt(r.total),t.dappList=[],a&&a.length>0&&a.forEach(function(e){t.dappList.push({id:e.id,icon:e.img,name:t.$tt(e.name,e.name_en),subtitle:t.$tt(e.subtitle,e.subtitle_en),platformId:e.chain_type,platform:t.$tt(e.chain_name,e.chain_name_en)})}),e.next=16;break;case 11:if(204!==i.ErrCode){e.next=15;break}return t.dappList=[],t.dappTotal=0,e.abrupt("return");case 15:return e.abrupt("return",u.a.reject({code:i.ErrCode,message:i.ErrMsg}));case 16:case"end":return e.stop()}},e,t)}))()},fetchArticleInfo:function(){var t=this;return p()(o.a.mark(function e(){var i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.p)(t.currentArticleID);case 2:if(1!==(i=e.sent).Status){e.next=17;break}r=i.Result,t.submitArticleForm.title=r.title,t.submitArticleForm.subtitle=r.sub_title,t.submitArticleForm.category=r.type,t.submitArticleForm.cover_url=r.img,t.submitArticleForm.article_content=r.content,t.submitArticleForm.sourceURL=r.url,t.submitArticleForm.author=r.author,t.relatedDAppList=r.games,t.coverFileBindList.push({name:"article_cover.png",url:r.img}),r.customLabels&&r.customLabels.length>0&&(t.tagInputList=[],r.customLabels.forEach(function(e){t.tagInputList.push({value:e.game_custom_label_name}),t.submitArticleForm.tag.push(e.game_custom_label_name)})),e.next=18;break;case 17:return e.abrupt("return",u.a.reject({code:i.ErrCode,message:i.ErrMsg}));case 18:case"end":return e.stop()}},e,t)}))()},postEditArticle:function(){var t=this;return p()(o.a.mark(function e(){var i,r,a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="",t.submitArticleForm.tag.length>0&&(r="",t.submitArticleForm.tag.forEach(function(t){r+=t+";"}),r=r.substring(0,r.length-1),i=r),e.next=4,Object(S.e)(t.token,t.submitArticleForm.title,t.submitArticleForm.subtitle,t.submitArticleForm.category,t.submitArticleForm.article_content,t.coverFile?t.coverFile:null,t.relatedDAppList&&t.relatedDAppList.length>0?t.relatedDAppList:null,null,null,t.currentArticleID?t.currentArticleID:null,t.submitArticleForm.sourceURL,t.submitArticleForm.author,i);case 4:if(1!==(a=e.sent).Status){e.next=12;break}s=a.Result,t.clearStorageCache(),t.$notify({type:"success",dangerouslyUseHTMLString:!0,position:"bottom-right",message:s}),localStorage.setItem("article-published","yes"),e.next=16;break;case 12:if(208!==a.ErrCode){e.next=15;break}return t.clearStorageCache(),e.abrupt("return");case 15:return e.abrupt("return",u.a.reject({code:a.ErrCode,message:a.ErrMsg}));case 16:case"end":return e.stop()}},e,t)}))()},doJump:function(){this.$router.push("/success-page/article")},clearStorageCache:function(){localStorage.removeItem("article_storage_save_time"),localStorage.removeItem("article_storage_form_data"),localStorage.removeItem("article_storage_cover_img_data"),localStorage.removeItem("article_storage_related_dapp_list"),localStorage.removeItem("article_storage_tag_list")},onClickSubmit:function(){var t=this;this.$refs.submitArticleForm.validate(function(e){e&&(t.isLoading=!0,p()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.postEditArticle();case 2:t.isLoading=!1,t.doJump();case 4:case"end":return e.stop()}},e,t)}))().catch(function(e){t.isLoading=!1,console.error(e),t.$notify({type:"error",position:"top-right",title:t.$t("common.dialog_title"),message:t.$t("common.failed",[e.message])})}))})},onClickSelectionRelated:function(){this.relatedDialogVisible=!0},onClickClearSelection:function(){this.relatedDAppList=[]},handleRelatedDialogConfirm:function(){var t=this;this.mixSelection(),this.multipleSelection.length>0&&this.multipleSelection.forEach(function(e){if(t.relatedDAppList&&t.relatedDAppList.length>0){for(var i=!1,r=0;r<t.relatedDAppList.length;r++){t.relatedDAppList[r].id===e.id&&(i=!0)}i||t.relatedDAppList.push(e)}else t.relatedDAppList.push(e)}),this.relatedDialogVisible=!1,this.onRelatedDAppDialogClose(function(){})},clearSelection:function(){this.displaySelection=[],this.currentSelection=[],this.multipleSelection=[]},mixSelection:function(){var t=this;this.currentSelection.length>0&&this.currentSelection.forEach(function(e){for(var i=!1,r=0;r<t.multipleSelection.length;r++){t.multipleSelection[r].id===e.id&&(i=!0)}i||t.multipleSelection.push(e)})},handleSearchDapp:function(){var t=this;this.searchPageIndex=1,this.mixSelection(),p()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSearchLoading=!0,e.next=3,t.fetchDAppByKeyword();case 3:t.isSearchLoading=!1;case 4:case"end":return e.stop()}},e,t)}))().catch(function(e){console.error(e),t.isSearchLoading=!1})},handleDappPageChange:function(t){var e=this;this.mixSelection(),this.searchPageIndex=t,p()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSearchLoading=!0,t.next=3,e.fetchDAppByKeyword();case 3:e.isSearchLoading=!1;case 4:case"end":return t.stop()}},t,e)}))().catch(function(t){console.error(t),e.isSearchLoading=!1})},handleSelectionChange:function(t){var e=this;this.currentSelection=t,this.displaySelection=[].concat(this.multipleSelection),this.currentSelection.length>0&&this.currentSelection.forEach(function(t){for(var i=!1,r=0;r<e.multipleSelection.length;r++){if(e.multipleSelection[r].id===t.id){i=!0;break}}i||(e.displaySelection=e.displaySelection.concat([t]))})},handleCoverRemove:function(t){this.coverFile="",this.submitArticleForm.cover_url="",this.coverFileBindList.splice(0,1)},handleCoverCountOverflow:function(t,e){},handleCoverPreview:function(t){this.previewImageURL=t.url,this.picturePreviewDialogVisible=!0},handleCoverUploadSuccess:function(t,e,i){this.submitArticleForm.cover_url=URL.createObjectURL(e.raw)},handleCoverFile:function(t){this.coverFile=t.file,this.submitArticleForm.cover_url=URL.createObjectURL(t.file)},beforeCoverUpload:function(t){var e=this,i="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type||"image/ico"===t.type||"image/gif"===t.type,r=t.size/1024<=500,a=new FileReader;return a.onload=function(t){var i=t.target.result,r=new Image;r.onload=function(){var t=r.width,i=r.height;(t<480||i<480)&&(e.handleCoverRemove(),e.coverFileBindList.splice(0,1),e.$message({type:"error",message:e.$t("submit_article.rules.cover_width_height_error")}))},r.src=i},a.readAsDataURL(t),i||this.$message({type:"error",message:this.$t("submit_article.rules.format_error")}),r||this.$message({type:"error",message:this.$t("submit_article.rules.size_overflow")}),i&&r},initFormRules:function(){this.submitArticleFormRules.title=[{required:!0,message:this.$t("submit_article.rules.title_not_empty"),trigger:"blur"},{min:1,max:100,message:this.$t("submit_article.rules.title_too_long"),trigger:"blur"}],this.submitArticleFormRules.subtitle=[{required:!0,message:this.$t("submit_article.rules.subtitle_not_empty"),trigger:"blur"},{min:1,max:150,message:this.$t("submit_article.rules.subtitle_too_long"),trigger:"blur"}],this.submitArticleFormRules.category=[{required:!0,message:this.$t("submit_article.rules.category_not_empty"),trigger:"change"}],this.submitArticleFormRules.article_content=[{required:!0,message:this.$t("submit_article.rules.content_not_empty"),trigger:"blur"}],this.submitArticleFormRules.cover_url=[{required:!0,message:this.$t("submit_article.rules.cover_not_empty"),trigger:"blur"}]},onArticleTypeChange:function(t){},getRelatedText:function(){if(this.relatedDAppList.length>0){var t="";return this.relatedDAppList.forEach(function(e){t+=e.name+" # "}),t=t.substring(0,t.lastIndexOf("#")-1)}return this.$t("submit_article.placeholder.dapp")},save2Storage:function(){var t=(new Date).getTime(),e=this.submitArticleForm;localStorage.setItem("article_storage_save_time",t),localStorage.setItem("article_storage_form_data",n()(e)),this.coverFile&&this.file2Base64(this.coverFile).then(function(t){localStorage.setItem("article_storage_cover_img_data",t)}).catch(function(t){console.error(t.message)}),this.relatedDAppList.length>0&&localStorage.setItem("article_storage_related_dapp_list",n()(this.relatedDAppList)),this.tagInputList.length>0&&localStorage.setItem("article_storage_tag_list",n()(this.tagInputList))},readFromStorage:function(){var t=localStorage.getItem("article_storage_save_time"),e=localStorage.getItem("article_storage_form_data"),i=localStorage.getItem("article_storage_cover_img_data"),r=localStorage.getItem("article_storage_related_dapp_list"),a=localStorage.getItem("article_storage_tag_list");if(t&&(this.hasDraft=!0,this.lastestSaveTime=parseInt(t)),e&&(this.submitArticleForm=JSON.parse(e)),i){var s=this.base642Blob(i);this.coverFile=s;var n=s.type,l=n.substring(n.indexOf("/")+1);this.coverFileBindList.push({name:"article_cover."+l,url:URL.createObjectURL(s)})}r&&(this.relatedDAppList=JSON.parse(r)),a&&(this.tagInputList=JSON.parse(a))},onClickSaveAsDraft:function(){var t=this,e=!0;a()(this.submitArticleForm).forEach(function(i){t.submitArticleForm[i]&&(e=!1)}),e?this.$notify({type:"error",dangerouslyUseHTMLString:!0,position:"bottom-right",message:this.$t("submit_article.rules.nothing")}):(this.save2Storage(),this.$notify({type:"success",dangerouslyUseHTMLString:!0,position:"bottom-right",message:this.$t("submit_article.rules.save_success")}))},file2Base64:function(t){return new u.a(function(e,i){try{var r=new FileReader;r.addEventListener("load",function(){e(r.result)}),r.readAsDataURL(t)}catch(t){i(t)}})},base642Blob:function(t){for(var e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),a=new Uint8Array(r),s=0;s<e.length;s++)a[s]=e.charCodeAt(s);return new File([r],"article_cover."+i.substring(i.lastIndexOf("/")+1),{type:i,lastModified:Date.now()})},handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.animate.onScroll(t)}}},L=(i("4Ays"),i("ouCs"),i("KHd+")),w=Object(L.a)(A,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-root submit-article",class:t.screenCategory+" "+t.language},[i("status-container",{attrs:{status:t.pageStatus},on:{retry:function(e){t.onRetry()}}},["pc"==t.screenCategory?[i("div",{staticClass:"main-content"},[i("div",{staticClass:"content-wrapper"},[i("h3",[t._v("\n            "+t._s(t.currentArticleID?t.$t("submit_article.title_edit"):t.$t("submit_article.title"))+"\n          ")]),t._v(" "),i("h5",{directives:[{name:"show",rawName:"v-show",value:t.hasDraft&&t.lastestSaveTime>=0,expression:"hasDraft && lastestSaveTime >= 0"}]},[t._v("\n            "+t._s(t.$t("submit_article.lastest_save_time",[t.formatTimestamp(t.lastestSaveTime)]))+"\n          ")]),t._v(" "),i("el-form",{ref:"submitArticleForm",attrs:{model:t.submitArticleForm,rules:t.submitArticleFormRules}},[i("div",{staticClass:"float-layout-warpper"},[i("el-form-item",{class:t.coverFileBindList.length>0||t.coverFile?"hidden":"",attrs:{prop:"cover_url"}},[i("el-upload",{attrs:{limit:1,"file-list":t.coverFileBindList,"on-preview":t.handleCoverPreview,"on-remove":t.handleCoverRemove,"on-exceed":t.handleCoverCountOverflow,"on-success":t.handleCoverUploadSuccess,"before-upload":t.beforeCoverUpload,"http-request":t.handleCoverFile,action:"#","list-type":"picture-card"}},[i("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[i("h4",[t._v("\n                      "+t._s(t.$t("submit_article.placeholder.cover"))+"\n                    ")]),t._v(" "),i("h4",[t._v("\n                      "+t._s(t.$t("submit_article.placeholder.tips"))+"\n                    ")])])])],1),t._v(" "),i("div",{staticClass:"input-layout"},[i("el-form-item",{attrs:{prop:"title"}},[i("el-input",{attrs:{"show-word-limit":!0,placeholder:t.$t("submit_article.placeholder.title"),maxlength:"100"},model:{value:t.submitArticleForm.title,callback:function(e){t.$set(t.submitArticleForm,"title",e)},expression:"submitArticleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"category"}},[i("el-select",{attrs:{placeholder:t.$t("submit_article.placeholder.category")},model:{value:t.submitArticleForm.category,callback:function(e){t.$set(t.submitArticleForm,"category",e)},expression:"submitArticleForm.category"}},t._l(t.categoryList,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("el-form-item",[i("div",{staticClass:"related-wrapper",attrs:{title:t.getRelatedText()},on:{click:function(e){t.onClickSelectionRelated()}}},[t._v("\n                    "+t._s(t.getRelatedText())+"\n                  ")]),t._v(" "),i("div",{staticClass:"clear-button",on:{click:function(e){t.onClickClearSelection()}}},[i("i",{staticClass:"el-icon-close"})])])],1)],1),t._v(" "),i("el-form-item",[i("span",[t._v(t._s(t.$t("submit_article.article_type")))]),t._v(" "),i("el-radio-group",{on:{change:t.onArticleTypeChange},model:{value:t.articleType,callback:function(e){t.articleType=e},expression:"articleType"}},[i("el-radio",{key:"original",attrs:{label:"original"}},[t._v("\n                  "+t._s(t.$t("submit_article.original"))+"\n                ")]),t._v(" "),i("el-radio",{key:"reprinted",attrs:{label:"reprinted"}},[t._v("\n                  "+t._s(t.$t("submit_article.reprinted"))+"\n                ")])],1)],1),t._v(" "),"reprinted"==t.articleType?i("el-form-item",[i("el-input",{attrs:{placeholder:t.$t("submit_article.placeholder.author"),size:"normal"},model:{value:t.submitArticleForm.author,callback:function(e){t.$set(t.submitArticleForm,"author",e)},expression:"submitArticleForm.author"}})],1):t._e(),t._v(" "),"reprinted"==t.articleType?i("el-form-item",[i("el-input",{attrs:{placeholder:t.$t("submit_article.placeholder.source_url"),size:"normal"},model:{value:t.submitArticleForm.sourceURL,callback:function(e){t.$set(t.submitArticleForm,"sourceURL",e)},expression:"submitArticleForm.sourceURL"}})],1):t._e(),t._v(" "),i("el-form-item",{attrs:{prop:"subtitle"}},[i("el-input",{attrs:{"show-word-limit":!0,placeholder:t.$t("submit_article.placeholder.subtitle"),rows:4,type:"textarea",maxlength:"150"},model:{value:t.submitArticleForm.subtitle,callback:function(e){t.$set(t.submitArticleForm,"subtitle",e)},expression:"submitArticleForm.subtitle"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("submit_article.tags_label")}},[i("ul",[t._l(t.tagInputList,function(e,r){return i("li",{key:r},[i("el-input",{attrs:{id:"tag-item"+r,"show-word-limit":!0,placeholder:t.$t("submit_article.placeholder.tag_item"),maxlength:"20"},on:{blur:function(e){t.handleTagBlur()}},nativeOn:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAddTag(r)}},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-close"},on:{click:function(i){t.handleTagDelete(e)}},slot:"append"})],1)],1)}),t._v(" "),i("li",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleAddTag()}}},[t._v(t._s(t.$t("submit_article.add_tag")))])],1)],2),t._v(" "),t.hotTagList.length>0?i("div",{staticClass:"hot-tag"},[i("h4",[t._v("\n                  "+t._s(t.$t("submit_article.hot_tag"))+"\n                ")]),t._v(" "),i("ul",t._l(t.hotTagList,function(e,r){return i("li",{key:r,on:{click:function(i){t.handleHotTagItemClick(e)}}},[t._v("\n                    "+t._s(e.text)+"\n                  ")])}))]):t._e()]),t._v(" "),i("el-form-item",{staticClass:"article-content-wrapper",attrs:{prop:"article_content"}},[i("vue-editor",{attrs:{id:"editor","custom-modules":t.customModulesForEditor,"editor-options":t.editorSettings},model:{value:t.submitArticleForm.article_content,callback:function(e){t.$set(t.submitArticleForm,"article_content",e)},expression:"submitArticleForm.article_content"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onClickResetForm()}}},[t._v("\n                "+t._s(t.$t("submit_article.reset"))+"\n              ")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onClickSaveAsDraft()}}},[t._v("\n                "+t._s(t.$t("submit_article.save_as_draft"))+"\n              ")]),t._v(" "),i("el-button",{attrs:{loading:t.isLoading,type:"primary"},on:{click:function(e){t.onClickSubmit()}}},[t._v("\n                "+t._s(t.$t("submit_article.submit"))+"\n              ")])],1)],1)],1),t._v(" "),i("div",{staticClass:"tips"},[i("svg-icon",{attrs:{"icon-class":"icon_ipfs_fill"}}),t._v(" "),i("span",{domProps:{innerHTML:t._s(t.$t("submit_article.ipfs_tips"))}})],1)])]:"pad"==t.screenCategory?void 0:[i("div",{staticClass:"main-content"},[i("svg-icon",{attrs:{"icon-class":"icon_upload"}}),t._v(" "),i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("submit_placeholder.title")))]),t._v(" "),i("div",{staticClass:"subtitle"},[t._v(t._s(t.$t("submit_placeholder.subtitle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(e){t.onClickGotItButton()}}},[t._v(t._s(t.$t("submit_placeholder.button_text")))])],1)],1)]],2),t._v(" "),i("el-dialog",{staticClass:"article-related-dapp-dialog",attrs:{visible:t.relatedDialogVisible,"close-on-click-modal":!1,"before-close":t.onRelatedDAppDialogClose},on:{"update:visible":function(e){t.relatedDialogVisible=e}}},[i("el-input",{attrs:{placeholder:t.$t("submit_article.dialog.search_placeholder")},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleSearchDapp(e):null}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleSearchDapp},slot:"append"})],1),t._v(" "),i("div",{staticClass:"selection-list"},[i("ul",t._l(t.displaySelection,function(e,r){return i("li",{key:r,on:{click:function(i){t.onClickRemoveSelection(e)}}},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("i",{staticClass:"el-icon-close"})])}))]),t._v(" "),i("div",{staticClass:"data-wrapper"},[i("status-container",{attrs:{status:t.isSearchLoading?0:1}},[t.dappList.length>0?i("div",{staticClass:"list-wrapper"},[i("el-table",{ref:"multipleTable",attrs:{data:t.dappList},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("submit_article.dialog.name_summary"),"min-width":200},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"content-wrapper"},[i("img",{attrs:{src:e.row.icon,alt:""}}),t._v(" "),i("div",{staticClass:"text-wrapper"},[i("h3",[t._v("\n                      "+t._s(e.row.name)+"\n                    ")]),t._v(" "),i("h4",[t._v("\n                      "+t._s(e.row.subtitle)+"\n                    ")])])])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("submit_article.dialog.platform"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.platform)+"\n              ")]}}])})],1),t._v(" "),i("el-pagination",{attrs:{"current-page":t.searchPageIndex,"page-size":t.searchPageSize,"page-count":5,total:t.dappTotal,layout:"prev, pager, next"},on:{"current-change":t.handleDappPageChange}})],1):i("div",{staticClass:"no-data"},[i("span",{domProps:{innerHTML:t._s(t.$t("submit_article.no_related_dapp"))},on:{click:function(e){t.onClickGotoSubmitDApp()}}})])])],1),t._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleRelatedDialogConfirm}},[t._v(t._s(t.$t("submit_article.dialog.confirm")))])],1)],1)],1)},[],!1,null,"957adcc0",null);w.options.__file="index.vue";e.default=w.exports},ouCs:function(t,e,i){"use strict";var r=i("NygE");i.n(r).a}}]);