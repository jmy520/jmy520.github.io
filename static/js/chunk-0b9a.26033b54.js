(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0b9a"],{"6cao":function(t,e,n){n("h6RI"),t.exports=Math.pow(2,-52)},"7Qib":function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var a=n("14Xm"),i=n.n(a),r=n("4d7F"),s=n.n(r),o=n("D3Ub"),c=n.n(o);n("mjEM"),n("mSNy");function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";return Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},new Date(t).format(e)}function u(t){return t?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0}!function(){var t=c()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new s.a(function(t,n){try{var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){var n=e.target.result;t(n)}}catch(t){n(t)}}));case 1:case"end":return t.stop()}},t,this)}))}()},OTwH:function(t,e,n){"use strict";n.r(e);var a=n("14Xm"),i=n.n(a),r=n("4d7F"),s=n.n(r),o=n("D3Ub"),c=n.n(o),l=n("QbLZ"),u=n.n(l),p=n("L2JU"),m=n("3SlJ"),d=n("yWgo"),f=n("7Qib"),_=n("KTTK"),h={name:"DappList",data:function(){return{pageStatus:0,animate:null,platformList:[],recommendedDAppList:[],selectedPlatform:null,topicList:[],topicPageIndex:1,topicPageSize:5,topicHasMoreData:!0,topicLoading:!1}},computed:u()({},Object(p.b)(["token","language","screenCategory","immersive","color","opacity"])),watch:{language:function(){window.location.reload()},screenCategory:function(){window.location.reload()}},created:function(){var t=this;this.animate=new m.a(this),this.initData().catch(function(e){t.pageStatus=2,console.error(e)})},mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{ellipsis:d.a,formatNumber:f.a,formatTimestamp:f.b,initData:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchPlatformList();case 2:return e.next=4,s.a.all([t.fetchRecommendedDApp(),t.fetchDAppTopicData()]);case 4:t.pageStatus=1,t.$nextTick(function(){t.fillAnimateRefs()});case 6:case"end":return e.stop()}},e,t)}))()},onRetry:function(){var t=this;this.pageStatus=0,this.initData().catch(function(e){t.pageStatus=2,console.error(e)})},fillAnimateRefs:function(){this.animate.setAnimateData([{ref:"some-ref",classList:["animated","fadeIn"]}])},getFlagStyle:function(t){return"color: "+t.color+"; border: 1px solid "+t.color},onClickPlatformItem:function(t){this.selectedPlatform=t,this.fetchRecommendedDApp()},onClickDAppItem:function(t){this.$router.push("/dapp-detail/"+t.id)},onClickMoreTopicData:function(t){this.$store.dispatch("SetCache",t),this.$router.push("/dapp-topic")},fetchPlatformList:function(){var t=this;return c()(i.a.mark(function e(){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.u)();case 2:if(1!==(n=e.sent).Status){e.next=9;break}(a=n.Result)&&a.length>0&&a.forEach(function(e){t.platformList.push({id:e.id,name:t.$tt(e.name,e.name_en)})}),t.selectedPlatform||(t.selectedPlatform=t.platformList[0]),e.next=10;break;case 9:return e.abrupt("return",s.a.reject({code:n.ErrCode,message:n.ErrMsg}));case 10:case"end":return e.stop()}},e,t)}))()},fetchRecommendedDApp:function(){var t=this;return c()(i.a.mark(function e(){var n,a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.selectedPlatform?t.selectedPlatform.id:0,e.next=3,Object(_.x)(n);case 3:if(1!==(a=e.sent).Status){e.next=10;break}r=a.Result,t.recommendedDAppList=[],r&&r.length>0&&r.forEach(function(e){t.recommendedDAppList.push({id:e.game_id,name:t.$tt(e.game_name,e.game_name_en),subtitle:t.$tt(e.game_subtitle,e.game_subtitle_en),thumbnail:e.img,categoryName:t.$tt(e.type_name_1,e.type_name_en_1),color:e.type_color_1,platform:t.$tt(e.chain_name,e.chain_name_en)})}),e.next=11;break;case 10:return e.abrupt("return",s.a.reject({code:a.ErrCode,message:a.ErrMsg}));case 11:case"end":return e.stop()}},e,t)}))()},fetchDAppTopicData:function(){var t=this;return c()(i.a.mark(function e(){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.q)(t.topicPageIndex,t.topicPageSize);case 2:if(1!==(n=e.sent).Status){e.next=8;break}(a=n.Result)&&a.length>0?(a.length<t.topicPageSize&&(t.topicHasMoreData=!1),a.forEach(function(e){var n={id:e.id,name:t.$tt(e.name,e.name_en),icon:e.logo,description:t.$tt(e.intro,e.intro_en),nodes:[]},a=e.games;a&&a.length>0&&a.forEach(function(e){var a=[],i=e.labels;i&&i.length>0&&i.forEach(function(e){a.push({id:e.label_id,icon:e.label_logo,name:t.$tt(e.label_name,e.label_name_en)})}),n.nodes.push({id:e.game_id,icon:e.icon_url,name:t.$tt(e.game_name,e.game_name_en),subtitle:t.$tt(e.subtitle,e.subtitle_en),thumbnail:e.img,categoryId:e.type_id_1,categoryName:t.$tt(e.type_name_1,e.type_name_en_1),color:e.type_color_1,platformId:e.chain_type,platformName:t.$tt(e.chain_type_name,e.chain_type_name_en),activeUser:t.daily_life,activeUserRatioPercent:t.daily_life_inc,flags:a,tx7D:e.tran7d,tx7DRatioPercent:e.tran7d_inc,tx24H:e.tran24h,tx24HRatioPercent:e.tran24h_inc,volume7D:e.turn7d,volume7DRatioPercent:e.turn7d_inc,volume24H:e.turn24h,volume24HRatioPercent:e.turn24h_inc,linkURL:e.www})}),t.topicList.push(n)})):t.topicHasMoreData=!1,e.next=9;break;case 8:return e.abrupt("return",s.a.reject({code:n.ErrCode,message:n.ErrMsg}));case 9:case"end":return e.stop()}},e,t)}))()},onClickLoadMore:function(){var t=this;c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.topicLoading=!0,t.topicPageIndex+=1,e.next=4,t.fetchDAppTopicData();case 4:t.topicLoading=!1;case 5:case"end":return e.stop()}},e,t)}))().catch(function(e){console.error(e),t.topicLoading=!1})},handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.animate.onScroll(t)}}},v=(n("u8UE"),n("i7aF"),n("KHd+")),g=Object(v.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-root dapp-list",class:t.screenCategory+" "+t.language},[n("status-container",{attrs:{status:t.pageStatus},on:{retry:function(e){t.onRetry()}}},["pc"==t.screenCategory?[n("div",{staticClass:"main-content"},[n("div",{staticClass:"recommended"},[n("div",{staticClass:"title"},[n("h3",[t._v(t._s(t.$t("dapp_list.recommended_title")))]),t._v(" "),n("ul",t._l(t.platformList,function(e,a){return n("li",{key:a,class:t.selectedPlatform&&t.selectedPlatform.id==e.id?"active":"",on:{click:function(n){t.onClickPlatformItem(e)}}},[n("span",[t._v(t._s(e.name))])])}))]),t._v(" "),n("div",{staticClass:"module01"},t._l(t.recommendedDAppList.slice(0,2),function(e,a){return n("div",{key:a,staticClass:"item",on:{click:function(n){t.onClickDAppItem(e)}}},[n("div",{staticClass:"thumbnail-wrapper"},[n("img",{attrs:{src:e.thumbnail,alt:""}})]),t._v(" "),n("div",{staticClass:"text-wrapper"},[n("div",{staticClass:"row-item"},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("span",{style:t.getFlagStyle(e)},[t._v(t._s(e.categoryName))])]),t._v(" "),n("div",{staticClass:"row-item"},[n("span",[t._v("\n                    "+t._s(e.subtitle)+"\n                  ")])])])])})),t._v(" "),n("div",{staticClass:"module02"},t._l(t.recommendedDAppList.slice(2,6),function(e,a){return n("div",{key:a,staticClass:"item",on:{click:function(n){t.onClickDAppItem(e)}}},[n("div",{staticClass:"thumbnail-wrapper"},[n("img",{attrs:{src:e.thumbnail,alt:""}})]),t._v(" "),n("div",{staticClass:"text-wrapper"},[n("div",{staticClass:"row-item"},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("span",{style:t.getFlagStyle(e)},[t._v(t._s(e.categoryName))])]),t._v(" "),n("div",{staticClass:"row-item"},[n("span",[t._v("\n                    "+t._s(e.subtitle)+"\n                  ")])])])])}))]),t._v(" "),n("div",{staticClass:"topic-wrapper"},t._l(t.topicList,function(e,a){return n("div",{key:a,staticClass:"topic-item"},[n("div",{staticClass:"title"},[n("h3",[t._v(t._s(e.name))]),t._v(" "),n("span",{on:{click:function(n){t.onClickMoreTopicData(e)}}},[t._v(t._s(t.$t("dapp_list.view_more")))])]),t._v(" "),n("div",{staticClass:"node-list"},t._l(e.nodes.slice(0,4),function(e,a){return n("div",{key:a,staticClass:"node-item",on:{click:function(n){t.onClickDAppItem(e)}}},[n("div",{staticClass:"thumbnail-wrapper"},[n("img",{attrs:{src:e.thumbnail,alt:""}})]),t._v(" "),n("div",{staticClass:"text-wrapper"},[n("div",{staticClass:"row-item"},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("span",{style:t.getFlagStyle(e)},[t._v(t._s(e.categoryName))])]),t._v(" "),n("div",{staticClass:"row-item"},[n("span",[t._v("\n                      "+t._s(e.subtitle)+"\n                    ")])])])])}))])})),t._v(" "),t.topicHasMoreData?n("el-button",{attrs:{loading:t.topicLoading,type:"primary",size:"default"},on:{click:function(e){t.onClickLoadMore()}}},[t._v(t._s(t.$t("dapp_list.load_more")))]):t._e()],1)]:void t.screenCategory],2)],1)},[],!1,null,"61b9e375",null);g.options.__file="index.vue";e.default=g.exports},QiZn:function(t,e,n){},h6RI:function(t,e,n){var a=n("Y7ZC");a(a.S,"Number",{EPSILON:Math.pow(2,-52)})},i7aF:function(t,e,n){"use strict";var a=n("QiZn");n.n(a).a},mjEM:function(t,e,n){t.exports={default:n("6cao"),__esModule:!0}},u8UE:function(t,e,n){"use strict";var a=n("xJ41");n.n(a).a},xJ41:function(t,e,n){}}]);