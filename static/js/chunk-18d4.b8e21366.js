(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-18d4"],{"Iwy+":function(t,e,i){"use strict";i.r(e);var a=i("4d7F"),n=i.n(a),r=i("14Xm"),s=i.n(r),c=i("D3Ub"),l=i.n(c),o=i("QbLZ"),u=i.n(o),d=i("L2JU"),p=i("3SlJ"),f=i("KTTK"),v={name:"PersonalCenter",data:function(){return{pageStatus:0,animate:null,currentArticle:null,articleList:[],groupedArticleList:[],articleDetail:null,navigationOptions:{slidesPerView:"auto",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},computed:u()({},Object(d.b)(["language","screenCategory","avatar","name","extra","immersive","color","opacity"])),watch:{language:function(){window.location.reload()}},created:function(){var t=this;this.animate=new p.a(this),this.initData().catch(function(e){203===e.code?t.$router.replace("/login"):t.pageStatus=2,console.error(e)})},mounted:function(){this.$store.dispatch("ToggleAnimateBackgroundStatus",!0),window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){this.$store.dispatch("ToggleAnimateBackgroundStatus",!1),window.removeEventListener("scroll",this.handleScroll)},methods:{initData:function(){var t=this;return l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchArticleList();case 2:return e.next=4,t.fetchArticleDetail();case 4:t.pageStatus=1,t.$store.dispatch("ToggleAnimateBackgroundStatus",!1),t.$nextTick(function(){t.$store.dispatch("ToggleAnimateBackgroundStatus",!0),t.fillAnimateRefs()});case 7:case"end":return e.stop()}},e,t)}))()},onRetry:function(){var t=this;this.pageStatus=0,this.initData().catch(function(e){t.pageStatus=2,console.error(e)})},reset:function(){this.currentArticle=null,this.groupedArticleList=[],this.articleDetail=null},onClickArticleItem:function(t){this.currentArticle=t,this.fetchArticleDetail()},onClickMenuItem:function(t){this.currentArticle=t,this.fetchArticleDetail()},fillAnimateRefs:function(){var t=[{ref:"list-wrapper",classList:["animated","fadeInLeft"]},{ref:"navigation",classList:["animated","fadeIn"]},{ref:"article-detail",classList:["animated","fadeInRight"]},{ref:"article-content",classList:["animated","fadeInUp","delay-1s"]}];this.groupedArticleList&&this.groupedArticleList.length>0&&this.groupedArticleList.forEach(function(e,i){t.push({id:"group"+i,classList:["animated","fadeInUp","delay-1s"]})}),this.animate.setAnimateData(t)},handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.animate.onScroll(t)},fetchArticleList:function(){var t=this;return l()(s.a.mark(function e(){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.v)(1,100);case 2:if(1!==(i=e.sent).Status){e.next=10;break}t.articleList=[],t.groupedArticleList=[],(a=i.Result.data)&&a.length>0&&a.forEach(function(e){var i={name:e.type_name,articleList:[]},a=e.news;a&&a.length>0&&a.forEach(function(e){t.articleList.push({id:e.id,title:e.title}),null==t.currentArticle&&(t.currentArticle=e),i.articleList.push({id:e.id,title:e.title})}),t.groupedArticleList.push(i)}),e.next=13;break;case 10:if(204!==i.ErrCode){e.next=12;break}return e.abrupt("return");case 12:return e.abrupt("return",n.a.reject({code:i.ErrCode,message:i.ErrMsg}));case 13:case"end":return e.stop()}},e,t)}))()},fetchArticleDetail:function(){var t=this;return l()(s.a.mark(function e(){var i,a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.currentArticle){e.next=11;break}return i=t.currentArticle.id,e.next=4,Object(f.u)(i);case 4:if(1!==(a=e.sent).Status){e.next=10;break}r=a.Result,t.articleDetail={content:r.content},e.next=11;break;case 10:return e.abrupt("return",n.a.reject({code:a.ErrCode,message:a.ErrMsg}));case 11:case"end":return e.stop()}},e,t)}))()}}},h=(i("fyND"),i("KHd+")),m=Object(h.a)(v,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-root article",class:t.screenCategory+" "+t.language},[a("status-container",{attrs:{status:t.pageStatus},on:{retry:function(e){t.onRetry()}}},["pc"==t.screenCategory?[a("div",{staticClass:"container"},[a("div",{staticClass:"main-content"},[a("div",{ref:"list-wrapper",staticClass:"list-wrapper"},t._l(t.groupedArticleList,function(e,i){return a("div",{key:i,staticClass:"group",attrs:{id:"group"+i}},[a("h4",[t._v(t._s(e.name))]),t._v(" "),t._l(e.articleList,function(e,i){return a("div",{key:i,staticClass:"item-wrapper"},[a("div",{staticClass:"item",class:t.currentArticle.id==e.id?"active":"",on:{click:function(i){t.onClickArticleItem(e)}}},[a("div",{staticClass:"item-inner"},[a("span",[t._v(t._s(e.title))])])])])})],2)})),t._v(" "),a("div",{ref:"article-detail",staticClass:"content-wrapper"},[t.articleDetail&&t.articleDetail.content?a("div",{ref:"article-content",staticClass:"article-content rich-text",domProps:{innerHTML:t._s(t.articleDetail.content)}}):a("div",{staticClass:"no-data"},[a("img",{attrs:{src:i("UwnV"),alt:""}}),t._v(" "),a("span",[t._v(t._s(t.$t("common.no_data")))])])])])])]:"pad"==t.screenCategory?[a("div",{staticClass:"container"},[a("div",{staticClass:"main-content"},[a("div",{ref:"list-wrapper",staticClass:"list-wrapper"},t._l(t.groupedArticleList,function(e,i){return a("div",{key:i,staticClass:"group",attrs:{id:"group"+i}},[a("h4",[t._v(t._s(e.name))]),t._v(" "),t._l(e.articleList,function(e,i){return a("div",{key:i,staticClass:"item-wrapper"},[a("div",{staticClass:"item",class:t.currentArticle.id==e.id?"active":"",on:{click:function(i){t.onClickArticleItem(e)}}},[a("div",{staticClass:"item-inner"},[a("span",[t._v(t._s(e.title))])])])])})],2)})),t._v(" "),a("div",{ref:"article-detail",staticClass:"content-wrapper"},[t.articleDetail&&t.articleDetail.content?a("div",{ref:"article-content",staticClass:"article-content rich-text",domProps:{innerHTML:t._s(t.articleDetail.content)}}):a("div",{staticClass:"no-data"},[a("img",{attrs:{src:i("UwnV"),alt:""}}),t._v(" "),a("span",[t._v(t._s(t.$t("common.no_data")))])])])])])]:[a("div",{staticClass:"container"},[a("div",{ref:"navigation",staticClass:"navigation"},[a("swiper",{attrs:{options:t.navigationOptions}},t._l(t.articleList,function(e,i){return a("swiper-slide",{key:i},[a("span",{class:t.currentArticle.id==e.id?"active":"",on:{click:function(i){t.onClickMenuItem(e)}}},[t._v("\n                "+t._s(e.title)+"\n              ")])])})),t._v(" "),a("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"},[a("i",{staticClass:"el-icon-caret-left"})]),t._v(" "),a("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"},[a("i",{staticClass:"el-icon-caret-right"})])],1),t._v(" "),a("div",{ref:"article-detail",staticClass:"content-wrapper"},[t.articleDetail&&t.articleDetail.content?a("div",{ref:"article-content",staticClass:"article-content rich-text",domProps:{innerHTML:t._s(t.articleDetail.content)}}):a("div",{staticClass:"no-data"},[a("img",{attrs:{src:i("UwnV"),alt:""}}),t._v(" "),a("span",[t._v(t._s(t.$t("common.no_data")))])])])])]],2)],1)},[],!1,null,"4ab3dcb9",null);m.options.__file="index.vue";e.default=m.exports},fyND:function(t,e,i){"use strict";var a=i("yl7f");i.n(a).a},yl7f:function(t,e,i){}}]);