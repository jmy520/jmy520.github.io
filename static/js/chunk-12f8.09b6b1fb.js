(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-12f8"],{"+0Jk":function(t,e,a){"use strict";var s=a("SLID");a.n(s).a},"6cao":function(t,e,a){a("h6RI"),t.exports=Math.pow(2,-52)},"7Qib":function(t,e,a){"use strict";a.d(e,"c",function(){return d}),a.d(e,"b",function(){return p}),a.d(e,"a",function(){return u});var s=a("14Xm"),r=a.n(s),o=a("4d7F"),n=a.n(o),i=a("D3Ub"),c=a.n(i),l=(a("mjEM"),a("mSNy"));function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";return Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t},new Date(t).format(e)}function p(t){return t?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"simple",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"yyyy-MM-dd hh:mm:ss",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2592e6;if((t=Math.max(t,0))>r)return d((new Date).getTime()-t,a);if(s){if("day"===s){var o=parseInt(t/864e5),n=parseInt(t%864e5/36e5),i=parseInt(t%36e5/6e4);return"simple"===e?l.a.t("time.day",[o]):l.a.t("time.day_hour_minute",[o,n,i])}if("hour"===s){var c=parseInt(t/36e5),p=parseInt(t%36e5/6e4),u=parseInt(t%6e4/1e3);return"simple"===e?l.a.t("time.hour",[c]):l.a.t("time.hour_minute_second",[c,p,u])}if("minute"===s){var m=parseInt(t/6e4),f=parseInt(t%6e4/1e3);return"simple"===e?l.a.t("time.minute",[m]):l.a.t("time.minute_second",[m,f])}var g=parseInt(t/1e3);return l.a.t("time.second",[g])}var h=!1,v=!1,_=!1,w=parseInt(t/864e5);w>0&&(h=!0);var C=parseInt(t%864e5/36e5);C>0&&(v=!0);var y=parseInt(t%36e5/6e4);y>0&&(_=!0);var b=parseInt(t%6e4/1e3);return h?"simple"===e?l.a.t("time.day",[w]):l.a.t("time.day_hour_minute",[w,C,y]):v?"simple"===e?l.a.t("time.hour",[C]):l.a.t("time.hour_minute_second",[C,y,b]):_?"simple"===e?l.a.t("time.minute",[y]):l.a.t("time.minute_second",[y,b]):l.a.t("time.second",[b])}!function(){var t=c()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new n.a(function(t,a){try{var s=new FileReader;s.readAsDataURL(e),s.onload=function(e){var a=e.target.result;t(a)}}catch(t){a(t)}}));case 1:case"end":return t.stop()}},t,this)}))}()},Ia1j:function(t,e,a){},SLID:function(t,e,a){},XUA2:function(t,e,a){"use strict";a.r(e);var s=a("4d7F"),r=a.n(s),o=a("14Xm"),n=a.n(o),i=a("D3Ub"),c=a.n(i),l=a("QbLZ"),d=a.n(l),p=a("L2JU"),u=a("3SlJ"),m=a("yWgo"),f=a("7Qib"),g=a("KTTK"),h={name:"ForgotPassword",data:function(){return{pageStatus:0,animate:null,loading:!1,sending:!1,sendCodeDisabled:!1,verifyToken:0,step:0,formData:{email:"",emailVerificationCode:"",password:"",repassword:""},timerToken:null,sendCodeButtonText:"",encryptedVerificationCode:""}},computed:d()({},Object(p.b)(["token","language","screenCategory","immersive","color","opacity"])),watch:{language:function(){window.location.reload()},screenCategory:function(){window.location.reload()}},created:function(){var t=this;this.animate=new u.a(this),this.initData().catch(function(e){t.pageStatus=2,console.error(e)})},mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){this.stopTimer(),window.removeEventListener("scroll",this.handleScroll)},methods:{ellipsis:m.a,formatNumber:f.b,formatTimestamp:f.c,initData:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.sendCodeButtonText=t.$t("forgot_password.get_code"),t.pageStatus=1,t.$nextTick(function(){t.fillAnimateRefs()});case 3:case"end":return e.stop()}},e,t)}))()},onRetry:function(){var t=this;this.pageStatus=0,this.initData().catch(function(e){t.pageStatus=2,console.error(e)})},onClickReset:function(){var t=this;0===this.step?this.checkFormData(0)&&c()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.yb)(t.formData.email,t.formData.emailVerificationCode);case 2:if(1!==(a=e.sent).Status){e.next=8;break}t.verifyToken=a.Result.token,t.step=1,e.next=9;break;case 8:return e.abrupt("return",r.a.reject({code:a.ErrCode,message:a.ErrMsg}));case 9:case"end":return e.stop()}},e,t)}))().catch(function(e){console.error(e),t.$notify({type:"error",position:"top-right",title:t.$t("common.dialog_title"),message:t.$t("common.failed",[e.message])})}):this.checkFormData(1)&&c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.postReset();case 2:case"end":return e.stop()}},e,t)}))().catch(function(e){console.error(e),t.$notify({type:"error",position:"top-right",title:t.$t("common.dialog_title"),message:t.$t("common.failed",[e.message])})})},fillAnimateRefs:function(){this.animate.setAnimateData([{ref:"some-ref",classList:["animated","fadeIn"]}])},startTimer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.stopTimer(),this.timerToken=setInterval(function(){t&&"function"==typeof t&&t()},e)},stopTimer:function(){this.timerToken&&(clearInterval(this.timerToken),this.timerToken=null)},onClickSendCode:function(){var t=this;this.formData.email?(this.sendCodeDisabled=!0,this.sending=!0,c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendEmailVerificationCode();case 2:t.sending=!1,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;t.sendCodeButtonText="60s",t.startTimer(function(){0===(e-=1)?(t.stopTimer(),t.sendCodeButtonText=t.$t("forgot_password.get_code"),t.sendCodeDisabled=!1):t.sendCodeButtonText=e+"s"})}();case 4:case"end":return e.stop()}},e,t)}))().catch(function(e){t.sendCodeDisabled=!1,t.sending=!1,console.error(e),t.$notify({type:"error",position:"top-right",title:t.$t("common.dialog_title"),message:t.$t("common.failed",[e.message])})})):this.$notify({type:"error",position:"top-right",title:this.$t("common.dialog_title"),message:this.$t("forgot_password.email_required")})},checkFormData:function(t){if(0===t){if(!this.formData.email)return this.$notify({type:"error",position:"top-right",title:this.$t("common.dialog_title"),message:this.$t("forgot_password.email_required")}),!1;if(!this.formData.emailVerificationCode)return this.$notify({type:"error",position:"top-right",title:this.$t("common.dialog_title"),message:this.$t("forgot_password.email_verification_code_required")}),!1}else{if(!this.formData.password)return this.$notify({type:"error",position:"top-right",title:this.$t("common.dialog_title"),message:this.$t("forgot_password.password_required")}),!1;if(!this.formData.repassword)return this.$notify({type:"error",position:"top-right",title:this.$t("common.dialog_title"),message:this.$t("forgot_password.repassword_required")}),!1}return!0},sendEmailVerificationCode:function(){var t=this;return c()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)(t.formData.email);case 2:if(0!==e.sent.Status){e.next=6;break}e.next=7;break;case 6:return e.abrupt("return",r.a.reject({code:220,message:t.$t("forgot_password.email_not_registered")}));case 7:return e.next=9,Object(g.sb)(t.formData.email,1);case 9:if(1!==(a=e.sent).Status){e.next=14;break}t.$message({type:"success",message:t.$t("common.success")}),e.next=15;break;case 14:return e.abrupt("return",r.a.reject({code:a.ErrCode,message:a.ErrMsg}));case 15:case"end":return e.stop()}},e,t)}))()},postReset:function(){var t=this;return c()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.checkFormData()){e.next=10;break}return e.next=3,Object(g.ob)(t.verifyToken,t.formData.password,t.formData.repassword);case 3:if(1!==(a=e.sent).Status){e.next=9;break}t.$message({type:"success",message:t.$t("common.success")}),t.$router.replace("/login"),e.next=10;break;case 9:return e.abrupt("return",r.a.reject({code:a.ErrCode,message:a.ErrMsg}));case 10:case"end":return e.stop()}},e,t)}))()},handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.animate.onScroll(t)}}},v=(a("j/7B"),a("+0Jk"),a("KHd+")),_=Object(v.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-root forgot-password",class:t.screenCategory+" "+t.language},[a("status-container",{attrs:{status:t.pageStatus},on:{retry:function(e){t.onRetry()}}},["pc"==t.screenCategory?[a("div",{staticClass:"container"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"slot-start"},[a("div",{staticClass:"background"},[a("div",{staticClass:"background-inner"},[a("div",{staticClass:"top"}),t._v(" "),a("div",{staticClass:"center"}),t._v(" "),a("div",{staticClass:"bottom"})])]),t._v(" "),a("div",{staticClass:"text-wrapper"},[a("div",{staticClass:"content-inner"},[a("div",{staticClass:"quote-symbol"},[a("svg-icon",{attrs:{"icon-class":"icon_quote"}})],1),t._v(" "),a("div",{staticClass:"slogan",domProps:{innerHTML:t._s(t.$t("forgot_password.slogan"))}})])])]),t._v(" "),a("div",{staticClass:"slot-end"},[0==t.step?[a("div",{staticClass:"step-01-wrapper"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("forgot_password.title")))]),t._v(" "),a("div",{staticClass:"form-wrapper"},[a("el-input",{attrs:{placeholder:t.$t("forgot_password.email_placeholder"),size:"normal"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),t._v(" "),a("el-input",{attrs:{placeholder:t.$t("forgot_password.email_verification_code_placeholder"),size:"normal"},model:{value:t.formData.emailVerificationCode,callback:function(e){t.$set(t.formData,"emailVerificationCode",e)},expression:"formData.emailVerificationCode"}},[a("div",{staticClass:"append-wrapper",attrs:{slot:"append"},slot:"append"},[a("el-button",{attrs:{disabled:t.sendCodeDisabled,loading:t.sending,type:"text",size:"default"},on:{click:function(e){t.onClickSendCode()}}},[t._v(t._s(t.sendCodeButtonText))])],1)]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.onClickReset()}}},[t._v(t._s(t.$t("forgot_password.next_step")))])],1)])]:[a("div",{staticClass:"step-02-wrapper"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("forgot_password.set_new_password")))]),t._v(" "),a("div",{staticClass:"form-wrapper"},[a("el-input",{attrs:{placeholder:t.$t("forgot_password.password_placeholder"),type:"password",size:"normal"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),t._v(" "),a("el-input",{attrs:{placeholder:t.$t("forgot_password.repassword_placeholder"),type:"password",size:"normal"},model:{value:t.formData.repassword,callback:function(e){t.$set(t.formData,"repassword",e)},expression:"formData.repassword"}}),t._v(" "),a("el-button",{attrs:{loading:t.loading,type:"primary",size:"large"},on:{click:function(e){t.onClickReset()}}},[t._v(t._s(t.$t("forgot_password.reset")))])],1)])]],2)])])]:"pad"==t.screenCategory?void 0:[a("div",{staticClass:"container"},[0==t.step?[a("div",{staticClass:"step-01-wrapper"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("forgot_password.title")))]),t._v(" "),a("div",{staticClass:"form-wrapper"},[a("el-input",{attrs:{placeholder:t.$t("forgot_password.email_placeholder"),size:"normal"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),t._v(" "),a("el-input",{attrs:{placeholder:t.$t("forgot_password.email_verification_code_placeholder"),size:"normal"},model:{value:t.formData.emailVerificationCode,callback:function(e){t.$set(t.formData,"emailVerificationCode",e)},expression:"formData.emailVerificationCode"}},[a("div",{staticClass:"append-wrapper",attrs:{slot:"append"},slot:"append"},[a("el-button",{attrs:{disabled:t.sendCodeDisabled,loading:t.sending,type:"text",size:"default"},on:{click:function(e){t.onClickSendCode()}}},[t._v(t._s(t.sendCodeButtonText))])],1)]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.onClickReset()}}},[t._v(t._s(t.$t("forgot_password.next_step")))])],1)])]:[a("div",{staticClass:"step-02-wrapper"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("forgot_password.set_new_password")))]),t._v(" "),a("div",{staticClass:"form-wrapper"},[a("el-input",{attrs:{placeholder:t.$t("forgot_password.password_placeholder"),type:"password",size:"normal"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),t._v(" "),a("el-input",{attrs:{placeholder:t.$t("forgot_password.repassword_placeholder"),type:"password",size:"normal"},model:{value:t.formData.repassword,callback:function(e){t.$set(t.formData,"repassword",e)},expression:"formData.repassword"}}),t._v(" "),a("el-button",{attrs:{loading:t.loading,type:"primary",size:"large"},on:{click:function(e){t.onClickReset()}}},[t._v(t._s(t.$t("forgot_password.reset")))])],1)])]],2)]],2)],1)},[],!1,null,"0ec84004",null);_.options.__file="index.vue";e.default=_.exports},h6RI:function(t,e,a){var s=a("Y7ZC");s(s.S,"Number",{EPSILON:Math.pow(2,-52)})},"j/7B":function(t,e,a){"use strict";var s=a("Ia1j");a.n(s).a},mjEM:function(t,e,a){t.exports={default:a("6cao"),__esModule:!0}}}]);