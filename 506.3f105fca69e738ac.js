"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[506],{5732:(C,u,o)=>{o.d(u,{$:()=>g});var a=o(9863);let g=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275cmp=a.Xpm({type:c,selectors:[["app-wechat-open-page"]],decls:7,vars:0,consts:[[1,"weui-mask"],[1,"weui-dialog"],[1,"weui-dialog__bd"],[1,"weui-dialog__ft"],["href","weixin://","onclick","",1,"weui-dialog__btn","weui-dialog__btn_default"]],template:function(d,f){1&d&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._uU(3,"\u8bf7\u5728\u624b\u673a\u7aef\u6253\u5f00\u9875\u9762"),a.qZA(),a.TgZ(4,"div",3)(5,"a",4),a._uU(6,"\u786e\u5b9a"),a.qZA()()()())},styles:[""]}),c})()},506:(C,u,o)=>{o.r(u),o.d(u,{EditIntroducePageModule:()=>S});var a=o(9808),g=o(3075),c=o(8962),p=o(1192),d=o(655),f=o(7846),v=o(2752),t=o(9863),P=o(947),_=o(9993),h=o(4828),M=o(5830),m=o(9609),O=o(5161),x=o(5732),y=o(7873);const E=["appStatusContent"];function I(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t._UZ(3,"app-wechat-open-page"),t.qZA(),t.BQk()}}function w(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._uU(4,"pad layout here"),t.qZA()(),t.BQk()}}function T(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._UZ(4,"div",6)(5,"div",7),t.TgZ(6,"div",8)(7,"ion-item",9)(8,"ion-textarea",10),t.NdJ("ngModelChange",function(r){return t.CHM(n),t.oxw().formData.introduction=r}),t.qZA()(),t.TgZ(9,"ion-button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw().onClickConfirm()}),t._uU(10," \u786e\u5b9a "),t.qZA()()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(8),t.Q6J("ngModel",n.formData.introduction),t.xp6(1),t.Q6J("disabled",n.loading)}}const k=function(e){return{immersive:e}},D=[{path:"",component:(()=>{class e extends f.n{constructor(n,i,r,l,j,b,A,J,Y,Q){super(n,i,r,l),this.loadingCtrl=n,this.toastCtrl=i,this.runtime=r,this.screenFitService=l,this.navCtrl=j,this.eventBus=b,this.modalCtrl=A,this.api=J,this.router=Y,this.themeService=Q,this.loading=!1,this.formData={introduction:""}}ngOnInit(){this.formData.introduction=this.runtime.user.introduction,this.router.events.subscribe(n=>{n instanceof p.m2&&"/edit-introduce"===n.url&&this.setPageTitle("\u4fee\u6539\u4ecb\u7ecd\u4fe1\u606f")})}initData(){return(0,d.mG)(this,void 0,void 0,function*(){this.loading=!1,this.appStatusContent.invokeSuccess()})}setPageTitle(n){super.setPageTitle(n),this.eventBus.emmitEvent("changeNavTitle",n),this.eventBus.emmitEvent("changeDefaultHeader","standard"),this.eventBus.emmitEvent("changeShowRightBar","none")}ionViewWillEnter(){this.setPageTitle("\u4fee\u6539\u4ecb\u7ecd\u4fe1\u606f")}ionViewDidEnter(){(()=>(0,d.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}onRetry(){(()=>(0,d.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}onClickConfirm(){return(0,d.mG)(this,void 0,void 0,function*(){(()=>(0,d.mG)(this,void 0,void 0,function*(){yield this.doEditIntroduction()}))().catch(n=>{this.loading=!1,console.error(n),this.showToast(n.message)})})}doEditIntroduction(){return(0,d.mG)(this,void 0,void 0,function*(){if(v.E.isEmpty(this.formData.introduction))return void this.showToast("\u8bf7\u8f93\u5165\u4ecb\u7ecd\u4fe1\u606f");this.loading=!0;const n=yield this.api.userUpdateIntroduction(this.formData.introduction);if(200===n.code){const i=this.runtime.user;i.introduction=this.formData.introduction,this.runtime.cacheUser(i,!0),this.loading=!1,this.showToast("\u4fee\u6539\u6210\u529f"),this.back()}else this.showToast(n.msg,!0);this.loading=!1})}back(){this.navCtrl.back()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.HT),t.Y36(c.yF),t.Y36(P.t),t.Y36(_.v),t.Y36(c.SH),t.Y36(h.Y),t.Y36(c.IN),t.Y36(M.s),t.Y36(p.F0),t.Y36(m.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-introduce"]],viewQuery:function(n,i){if(1&n&&t.Gf(E,5),2&n){let r;t.iGM(r=t.CRH())&&(i.appStatusContent=r.first)}},features:[t.qOj],decls:6,vars:12,consts:[["id","pageContent",3,"fullscreen","scrollEvents"],[1,"page-root","edit-introduce",3,"ngClass"],[4,"ngIf"],[3,"retry"],["appStatusContent",""],[1,"app-container"],[1,"header"],[1,"title"],[1,"form-content"],["lines","none",1,"ion-no-padding"],["type","text","rows","4","placeholder","\u7528\u7b80\u77ed\u51e0\u53e5\u8bdd\u4ecb\u7ecd\u4f60\u81ea\u5df1\u5427",3,"ngModel","ngModelChange"],["expand","block","fill","solid",3,"disabled","click"]],template:function(n,i){1&n&&(t.TgZ(0,"ion-content",0)(1,"div",1),t.YNc(2,I,4,0,"ng-container",2),t.YNc(3,w,5,0,"ng-container",2),t.YNc(4,T,11,2,"ng-container",2),t.qZA(),t._UZ(5,"app-common-footer"),t.qZA()),2&n&&(t.Tol(i.screenFitService.screenCategory),t.Q6J("fullscreen",i.themeService.immersive)("scrollEvents",!0),t.xp6(1),t.Tol(i.screenFitService.screenCategory),t.Q6J("ngClass",t.VKq(10,k,i.themeService.immersive)),t.xp6(1),t.Q6J("ngIf","desktop"==i.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","pad"==i.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","phone"==i.screenFitService.screenCategory))},directives:[c.W2,a.mk,a.O5,O.D,x.$,c.Ie,c.g2,c.j9,g.JJ,g.On,c.YG,y.X],styles:[".flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.justify-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.justify-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.justify-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.justify-evenly[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.justify-around[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.justify-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align-start[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.align-center[_ngcontent-%COMP%]{display:flex;align-items:center}.align-end[_ngcontent-%COMP%]{display:flex;align-items:flex-end}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]{display:flex;align-items:center;width:700px;margin:0 auto}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > ion-icon[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:16px}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-weight:700;margin-left:10px}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{margin-top:30px}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:600}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:450px;margin-top:20px;padding:20px 30px;background-color:#fff;overflow:hidden}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%;--height: 220px;--border-color: #aaaaaa !important;--padding-start: 0px !important;--padding-end: 0px !important;--background: #eeeeee}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-textarea[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-introduce.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{width:100%;height:44px;margin-top:40px;--ion-color-primary: #3D464F;--color: #ffffff;font-size:14px;font-weight:600}div.page-root.edit-introduce.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.edit-introduce.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;margin-top:20px}div.page-root.edit-introduce.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%;--height: 220px;--border-color: #aaaaaa !important;--padding-start: 10px !important;--padding-end: 10px !important;--background: #eeeeee}div.page-root.edit-introduce.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-introduce.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-textarea[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-introduce.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{width:100%;height:44px;margin-top:40px;--ion-color-primary: #3D464F;--color: #ffffff;font-size:14px;font-weight:600}"]}),e})()}];let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(D)],p.Bz]}),e})();var Z=o(9277),B=o(9721);let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,g.u5,c.Pc,Z.G,B.x,F]]}),e})()}}]);