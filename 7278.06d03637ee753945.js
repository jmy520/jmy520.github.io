"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7278],{5732:(C,l,o)=>{o.d(l,{$:()=>g});var c=o(9863);let g=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(p){return new(p||a)},a.\u0275cmp=c.Xpm({type:a,selectors:[["app-wechat-open-page"]],decls:7,vars:0,consts:[[1,"weui-mask"],[1,"weui-dialog"],[1,"weui-dialog__bd"],[1,"weui-dialog__ft"],["href","weixin://","onclick","",1,"weui-dialog__btn","weui-dialog__btn_default"]],template:function(p,u){1&p&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._uU(3,"\u8bf7\u5728\u624b\u673a\u7aef\u6253\u5f00\u9875\u9762"),c.qZA(),c.TgZ(4,"div",3)(5,"a",4),c._uU(6,"\u786e\u5b9a"),c.qZA()()()())},styles:[""]}),a})()},7278:(C,l,o)=>{o.r(l),o.d(l,{EditNickNamePageModule:()=>S});var c=o(9808),g=o(3075),a=o(8962),d=o(1192),p=o(655),u=o(7846),P=o(2752),n=o(9863),_=o(947),f=o(9993),v=o(4828),M=o(5830),O=o(9609),h=o(5161),k=o(5732),x=o(7873);const y=["appStatusContent"];function N(e,r){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"app-status-content",3,4),n.NdJ("retry",function(){return n.CHM(t),n.oxw().onRetry()}),n._UZ(3,"app-wechat-open-page"),n.qZA(),n.BQk()}}function E(e,r){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"app-status-content",3,4),n.NdJ("retry",function(){return n.CHM(t),n.oxw().onRetry()}),n.TgZ(3,"div",5),n._uU(4,"pad layout here"),n.qZA()(),n.BQk()}}function w(e,r){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"app-status-content",3,4),n.NdJ("retry",function(){return n.CHM(t),n.oxw().onRetry()}),n.TgZ(3,"div",5)(4,"div",6)(5,"ion-item",7)(6,"ion-input",8),n.NdJ("ngModelChange",function(s){return n.CHM(t),n.oxw().formData.nickName=s}),n.qZA()(),n.TgZ(7,"div",9)(8,"span"),n._uU(9,"\u597d\u7684\u6635\u79f0\u80fd\u8ba9\u66f4\u591a\u8d2d\u4e70\u8005\u77e5\u9053\u60a8"),n.qZA()(),n.TgZ(10,"ion-button",10),n.NdJ("click",function(){return n.CHM(t),n.oxw().onClickConfirm()}),n._uU(11," \u786e\u5b9a "),n.qZA()()()(),n.BQk()}if(2&e){const t=n.oxw();n.xp6(6),n.Q6J("ngModel",t.formData.nickName),n.xp6(4),n.Q6J("disabled",t.loading)}}const T=function(e){return{immersive:e}},F=[{path:"",component:(()=>{class e extends u.n{constructor(t,i,s,m,b,j,B,J,Y,Q){super(t,i,s,m),this.loadingCtrl=t,this.toastCtrl=i,this.runtime=s,this.screenFitService=m,this.navCtrl=b,this.eventBus=j,this.modalCtrl=B,this.api=J,this.router=Y,this.themeService=Q,this.loading=!1,this.formData={nickName:""}}ngOnInit(){this.formData.nickName=this.runtime.user.nickName,this.router.events.subscribe(t=>{t instanceof d.m2&&"/edit-nick-name"===t.url&&this.setPageTitle("\u4fee\u6539\u6635\u79f0")})}initData(){return(0,p.mG)(this,void 0,void 0,function*(){this.appStatusContent.invokeSuccess()})}setPageTitle(t){super.setPageTitle(t),this.eventBus.emmitEvent("changeNavTitle",t),this.eventBus.emmitEvent("changeDefaultHeader","standard"),this.eventBus.emmitEvent("changeShowRightBar","none")}ionViewWillEnter(){this.setPageTitle("\u4fee\u6539\u6635\u79f0")}ionViewDidEnter(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(t=>{console.error("[init data errror]",t),this.appStatusContent.invokeError()})}onRetry(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(t=>{console.error("[init data errror]",t),this.appStatusContent.invokeError()})}onClickConfirm(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.doEditNickName()}))().catch(t=>{this.loading=!1,console.error(t),this.showToast(t.message)})}doEditNickName(){return(0,p.mG)(this,void 0,void 0,function*(){if(P.E.isEmpty(this.formData.nickName))return void this.showToast("\u8bf7\u8f93\u5165\u6635\u79f0");this.loading=!0;const t=yield this.api.userUpdateNickName(this.formData.nickName);if(200===t.code){this.showToast("\u4fee\u6539\u6210\u529f");const i=this.runtime.user;i.nickName=this.formData.nickName,this.runtime.cacheUser(i,!0),this.loading=!1,this.back()}else this.showToast(t.msg,!0);this.loading=!1})}back(){this.navCtrl.back()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(a.HT),n.Y36(a.yF),n.Y36(_.t),n.Y36(f.v),n.Y36(a.SH),n.Y36(v.Y),n.Y36(a.IN),n.Y36(M.s),n.Y36(d.F0),n.Y36(O.f))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-edit-nick-name"]],viewQuery:function(t,i){if(1&t&&n.Gf(y,5),2&t){let s;n.iGM(s=n.CRH())&&(i.appStatusContent=s.first)}},features:[n.qOj],decls:6,vars:12,consts:[["id","pageContent",3,"fullscreen","scrollEvents"],[1,"page-root","edit-nick-name",3,"ngClass"],[4,"ngIf"],[3,"retry"],["appStatusContent",""],[1,"app-container"],[1,"form-content"],["lines","none",1,"ion-no-padding"],["type","text","maxlength","20","placeholder","\u8f93\u5165\u60a8\u7684\u6635\u79f0",3,"ngModel","ngModelChange"],[1,"tips"],["expand","block","fill","solid",3,"disabled","click"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-content",0)(1,"div",1),n.YNc(2,N,4,0,"ng-container",2),n.YNc(3,E,5,0,"ng-container",2),n.YNc(4,w,12,2,"ng-container",2),n.qZA(),n._UZ(5,"app-common-footer"),n.qZA()),2&t&&(n.Tol(i.screenFitService.screenCategory),n.Q6J("fullscreen",i.themeService.immersive)("scrollEvents",!0),n.xp6(1),n.Tol(i.screenFitService.screenCategory),n.Q6J("ngClass",n.VKq(10,T,i.themeService.immersive)),n.xp6(1),n.Q6J("ngIf","desktop"==i.screenFitService.screenCategory),n.xp6(1),n.Q6J("ngIf","pad"==i.screenFitService.screenCategory),n.xp6(1),n.Q6J("ngIf","phone"==i.screenFitService.screenCategory))},directives:[a.W2,c.mk,c.O5,h.D,k.$,a.Ie,a.pK,a.j9,g.nD,g.JJ,g.On,a.YG,x.X],styles:[".flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.justify-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.justify-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.justify-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.justify-evenly[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.justify-around[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.justify-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align-start[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.align-center[_ngcontent-%COMP%]{display:flex;align-items:center}.align-end[_ngcontent-%COMP%]{display:flex;align-items:flex-end}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]{display:flex;align-items:center;width:700px;margin:0 auto}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > ion-icon[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:16px}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-weight:700;margin-left:10px}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{margin-top:30px}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:600}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:450px;margin-top:20px;padding:20px 30px;background-color:#fff;overflow:hidden}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%;margin-top:30px;--height: 48px;--border-color: #aaaaaa !important;--padding-start: 0px !important;--padding-end: 0px !important;--background: #eeeeee}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-textarea[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]{width:100%;margin-top:20px}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;color:#aaa}div.page-root.edit-nick-name.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{width:100%;height:44px;margin-top:40px;--ion-color-primary: #3D464F;--color: #ffffff;font-size:14px;font-weight:600}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;margin-top:0}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%;margin-top:30px;--height: 48px;--border-color: #aaaaaa !important;--padding-start: 10px !important;--padding-end: 10px !important;--background: #eeeeee}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-textarea[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]{width:100%;margin-top:20px}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;color:#aaa}div.page-root.edit-nick-name.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{width:100%;height:44px;margin-top:20px;--ion-color-primary: #3D464F;--color: #ffffff;font-size:14px;font-weight:600}"]}),e})()}];let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[d.Bz.forChild(F)],d.Bz]}),e})();var Z=o(9277),A=o(9721);let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[c.ez,g.u5,a.Pc,Z.G,A.x,D]]}),e})()}}]);