"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[651],{5732:(_,h,o)=>{o.d(h,{$:()=>l});var i=o(9863);let l=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-wechat-open-page"]],decls:7,vars:0,consts:[[1,"weui-mask"],[1,"weui-dialog"],[1,"weui-dialog__bd"],[1,"weui-dialog__ft"],["href","weixin://","onclick","",1,"weui-dialog__btn","weui-dialog__btn_default"]],template:function(p,u){1&p&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"\u8bf7\u5728\u624b\u673a\u7aef\u6253\u5f00\u9875\u9762"),i.qZA(),i.TgZ(4,"div",3)(5,"a",4),i._uU(6,"\u786e\u5b9a"),i.qZA()()()())},styles:[""]}),c})()},651:(_,h,o)=>{o.r(h),o.d(h,{SearchPageModule:()=>z});var i=o(9808),l=o(3075),c=o(8962),d=o(1192),p=o(655),u=o(7846),f=o(2752),x=o(5098),m=o(4157),t=o(9863),M=o(947),O=o(9993),y=o(4828),S=o(5830),w=o(9609),T=o(5161),F=o(5732),v=o(1235),C=o(5038),Z=o(7873);const E=["appStatusContent"];function j(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t._UZ(3,"app-wechat-open-page"),t.qZA(),t.BQk()}}function k(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._uU(4,"pad layout here"),t.qZA()(),t.BQk()}}function A(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"d-tag",11),t.NdJ("click",function(){const g=t.CHM(n).$implicit;return t.oxw(2).onSearch(g,!0)}),t.qZA()}2&e&&t.Q6J("tag",s.$implicit)}function J(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5)(4,"div",6),t._uU(5,"Mars \u641c\u60a8\u60f3\u8981\u7684"),t.qZA(),t.TgZ(6,"div",7)(7,"d-search",8),t.NdJ("ngModelChange",function(r){return t.CHM(n),t.oxw().query=r})("searchFn",function(r){return t.CHM(n),t.oxw().onSearch(r)}),t.qZA()(),t.TgZ(8,"div",9)(9,"span"),t._uU(10,"\u70ed\u641c\uff1a"),t.qZA(),t.YNc(11,A,1,1,"d-tag",10),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(7),t.Q6J("ngModel",n.query)("iconPosition","right")("isKeyupSearch",!1)("noBorder",!0)("autoFocus",!0),t.xp6(4),t.Q6J("ngForOf",n.tags)}}const b=function(e){return{immersive:e}},B=[{path:"",component:(()=>{class e extends u.n{constructor(n,a,r,g,P,R,H,D,I,G){super(n,a,r,g),this.loadingCtrl=n,this.toastCtrl=a,this.runtime=r,this.screenFitService=g,this.navCtrl=P,this.eventBus=R,this.modalCtrl=H,this.api=D,this.router=I,this.themeService=G,this.query=""}ngOnInit(){this.router.events.subscribe(n=>{n instanceof d.m2&&"/search"===n.url&&this.setPageTitle("\u641c\u7d22")})}initData(){return(0,p.mG)(this,void 0,void 0,function*(){this.getTags(),this.appStatusContent.invokeSuccess()})}setPageTitle(n){super.setPageTitle(n),this.eventBus.emmitEvent("changeNavTitle",n),this.eventBus.emmitEvent("changeDefaultHeader","standard"),this.eventBus.emmitEvent("changeShowRightBar","none")}ionViewWillEnter(){this.setPageTitle("\u641c\u7d22")}ionViewDidEnter(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}onRetry(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}back(){this.navCtrl.back()}onSearch(n,a=!1){this.handlerSearch(n,a)}handlerSearch(n,a=!1){f.E.isEmpty(n)||this.router.navigate(["/search-result"],{queryParams:{query:n,flag:a}})}getTags(){return(0,p.mG)(this,void 0,void 0,function*(){this.tags=[];let n=8;"phone"===this.screenFitService.screenCategory&&(n=6);const a=(0,m.d8)(x.y,yield this.api.searchTags(n));if(200===a.code){if(a.data.records.length>0){const r=a.data.records;console.log(JSON.stringify(r)),this.tags=r.map(g=>f.E.ellipsis(g.title,10,"end")),console.log(JSON.stringify(this.tags))}console.log(a.data)}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.HT),t.Y36(c.yF),t.Y36(M.t),t.Y36(O.v),t.Y36(c.SH),t.Y36(y.Y),t.Y36(c.IN),t.Y36(S.s),t.Y36(d.F0),t.Y36(w.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search"]],viewQuery:function(n,a){if(1&n&&t.Gf(E,5),2&n){let r;t.iGM(r=t.CRH())&&(a.appStatusContent=r.first)}},features:[t.qOj],decls:6,vars:12,consts:[["id","pageContent",3,"fullscreen","scrollEvents"],[1,"page-root","search",3,"ngClass"],[4,"ngIf"],[3,"retry"],["appStatusContent",""],[1,"app-container"],[1,"search-title"],[1,"search-bar"],[3,"ngModel","iconPosition","isKeyupSearch","noBorder","autoFocus","ngModelChange","searchFn"],[1,"search-footer"],[3,"tag","click",4,"ngFor","ngForOf"],[3,"tag","click"]],template:function(n,a){1&n&&(t.TgZ(0,"ion-content",0)(1,"div",1),t.YNc(2,j,4,0,"ng-container",2),t.YNc(3,k,5,0,"ng-container",2),t.YNc(4,J,12,6,"ng-container",2),t.qZA(),t._UZ(5,"app-common-footer"),t.qZA()),2&n&&(t.Tol(a.screenFitService.screenCategory),t.Q6J("fullscreen",a.themeService.immersive)("scrollEvents",!0),t.xp6(1),t.Tol(a.screenFitService.screenCategory),t.Q6J("ngClass",t.VKq(10,b,a.themeService.immersive)),t.xp6(1),t.Q6J("ngIf","desktop"==a.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","pad"==a.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","phone"==a.screenFitService.screenCategory))},directives:[c.W2,i.mk,i.O5,T.D,F.$,v.g,l.JJ,l.On,i.sg,C.ZG,Z.X],styles:[".flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.justify-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.justify-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.justify-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.justify-evenly[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.justify-around[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.justify-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align-start[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.align-center[_ngcontent-%COMP%]{display:flex;align-items:center}.align-end[_ngcontent-%COMP%]{display:flex;align-items:flex-end}div.page-root.search.desktop[_ngcontent-%COMP%]{background-color:#fafafa}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%]{background-color:#fafafa;width:100%;min-width:1200px;display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-title[_ngcontent-%COMP%]{display:flex;justify-content:center;width:195px;height:33px;font-size:24px;font-family:PingFangSC-Semibold,PingFang SC;font-weight:600;color:#3d464f;line-height:33px;margin-top:170px}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%]{width:700px;height:44px;background:#f2f2f2;border-radius:22px;margin-top:30px;display:flex;flex-direction:row;align-items:center}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > d-search[_ngcontent-%COMP%]{width:660px;margin:6px 20px;background-color:transparent}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > d-search[_ngcontent-%COMP%]     .devui-input{background-color:#f2f2f2;font-size:14px;font-weight:400;color:#3d464f}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:flex-start;width:700px;margin-left:5px;height:50px}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{height:17px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#3d464f;line-height:17px;margin-right:5px;margin-top:10px}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%] > d-tag[_ngcontent-%COMP%]{background:#eeeeee;border-radius:15px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:10px;margin-right:10px}div.page-root.search.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%]     .devui-tag-item{margin:5px 10px;background:transparent;cursor:pointer}div.page-root.search.phone[_ngcontent-%COMP%]{background-color:#fafafa}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%]{background-color:#fafafa;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-title[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:33px;font-size:24px;font-weight:600;color:#3d464f;line-height:33px;margin-top:170px}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%]{width:100%;height:44px;background:#f2f2f2;border-radius:22px;margin-top:30px;display:flex;flex-direction:row;align-items:center}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > d-search[_ngcontent-%COMP%]{width:90%;margin:6px 20px;background-color:transparent}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-bar[_ngcontent-%COMP%] > d-search[_ngcontent-%COMP%]     .devui-input{background-color:#f2f2f2;font-size:14px;font-weight:400;color:#3d464f}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:flex-start;width:100%;margin-left:5px;height:50px}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{height:17px;font-size:12px;font-weight:400;color:#3d464f;line-height:17px;margin-right:5px;min-width:40px;margin-top:10px}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%] > d-tag[_ngcontent-%COMP%]{background:#eeeeee;border-radius:15px;cursor:pointer;min-width:40px;margin-top:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px}div.page-root.search.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%] > div.app-container[_ngcontent-%COMP%] > div.search-footer[_ngcontent-%COMP%]     .devui-tag-item{margin:5px 10px;background:transparent;cursor:pointer}"]}),e})()}];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(B)],d.Bz]}),e})();var N=o(9277),Q=o(9721);let z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[i.ez,l.u5,c.Pc,N.G,Q.x,Y,v.t,C.Iz]]}),e})()}}]);