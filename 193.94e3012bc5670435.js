"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[193],{5732:(f,P,a)=>{a.d(P,{$:()=>l});var c=a(9863);let l=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(p){return new(p||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-wechat-open-page"]],decls:7,vars:0,consts:[[1,"weui-mask"],[1,"weui-dialog"],[1,"weui-dialog__bd"],[1,"weui-dialog__ft"],["href","weixin://","onclick","",1,"weui-dialog__btn","weui-dialog__btn_default"]],template:function(p,u){1&p&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._uU(3,"\u8bf7\u5728\u624b\u673a\u7aef\u6253\u5f00\u9875\u9762"),c.qZA(),c.TgZ(4,"div",3)(5,"a",4),c._uU(6,"\u786e\u5b9a"),c.qZA()()()())},styles:[""]}),s})()},193:(f,P,a)=>{a.r(P),a.d(P,{SetPasswordPageModule:()=>J});var c=a(9808),l=a(3075),s=a(8962),d=a(1192),p=a(655),u=a(7846),_=a(2752),t=a(9863),v=a(947),O=a(9993),h=a(4828),m=a(5830),w=a(9609),y=a(5161),x=a(5732),k=a(7873);const S=["appStatusContent"];function T(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t._UZ(3,"app-wechat-open-page"),t.qZA(),t.BQk()}}function b(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._uU(4,"pad layout here"),t.qZA()(),t.BQk()}}function D(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(n),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._UZ(4,"div",6)(5,"div",7),t.TgZ(6,"div",8)(7,"ion-item",9)(8,"ion-input",10),t.NdJ("keypress",function(i){return t.CHM(n),t.oxw().numberOnly(i)})("ngModelChange",function(i){return t.CHM(n),t.oxw().formData.payPassword=i}),t.qZA()(),t.TgZ(9,"ion-item",9)(10,"ion-input",11),t.NdJ("keypress",function(i){return t.CHM(n),t.oxw().numberOnly(i)})("ngModelChange",function(i){return t.CHM(n),t.oxw().formData.payPassword2=i}),t.qZA()(),t.TgZ(11,"div",12)(12,"span"),t._uU(13,"\u8bbe\u7f6e6\u4f4d\u6570\u5b57\u652f\u4ed8\u5bc6\u7801"),t.qZA()(),t.TgZ(14,"ion-button",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().onClickConfirm()}),t._uU(15," \u5b8c\u6210 "),t.qZA()()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(8),t.Q6J("ngModel",n.formData.payPassword)("inputmode","numeric"),t.xp6(2),t.Q6J("ngModel",n.formData.payPassword2)("inputmode","numeric"),t.xp6(4),t.Q6J("disabled",n.loading)}}const B=function(e){return{immersive:e}},F=[{path:"",component:(()=>{class e extends u.n{constructor(n,o,i,g,Y,A,Q,z,H,C,N,R){super(n,o,i,g),this.loadingCtrl=n,this.toastCtrl=o,this.runtime=i,this.screenFitService=g,this.navCtrl=Y,this.eventBus=A,this.modalCtrl=Q,this.api=z,this.router=H,this.routeInfo=C,this.themeService=N,this.location=R,this.loading=!1,this.formData={verificationCode:"",payPassword:"",payPassword2:""},this.to="",C.queryParams.subscribe(M=>{this.verificationCode=M.verificationCode,this.to=M.to})}ngOnInit(){this.router.events.subscribe(n=>{n instanceof d.m2&&"/set-password"===n.url&&this.setPageTitle("\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801")})}initData(){return(0,p.mG)(this,void 0,void 0,function*(){this.formData.verificationCode=this.verificationCode,this.appStatusContent.invokeSuccess()})}setPageTitle(n){super.setPageTitle(n),this.eventBus.emmitEvent("changeNavTitle",n),this.eventBus.emmitEvent("changeDefaultHeader","standard"),this.eventBus.emmitEvent("changeShowRightBar","none")}ionViewWillEnter(){this.setPageTitle("\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801")}ionViewDidEnter(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}onRetry(){(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(n=>{console.error("[init data errror]",n),this.appStatusContent.invokeError()})}checkFormData(){return _.E.isEmpty(this.formData.payPassword)?(this.showToast("\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",!0),!1):_.E.isEmpty(this.formData.payPassword2)?(this.showToast("\u8bf7\u8f93\u5165\u786e\u8ba4\u65b0\u5bc6\u7801",!0),!1):this.formData.payPassword2===this.formData.payPassword||(this.showToast("\u65b0\u5bc6\u7801\u4e0e\u786e\u8ba4\u65b0\u5bc6\u7801\u4e0d\u4e00\u81f4",!0),!1)}onClickConfirm(){this.checkFormData()&&(this.loading=!0,(()=>(0,p.mG)(this,void 0,void 0,function*(){yield this.doConfirm()}))().catch(n=>{this.loading=!1,console.error(n)}))}doConfirm(){return(0,p.mG)(this,void 0,void 0,function*(){const n=yield this.api.userUpdatePayPassword({verificationCode:this.formData.verificationCode,payPassword:this.formData.payPassword,payPassword2:this.formData.payPassword2});if(200===n.code){const o=n.data;return this.loading=!1,this.showToast("\u6210\u529f\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801!"),this.router.navigate(["/settings"],{queryParams:{menu:"settings",index:0}}),this.back(),o}return this.showToast(`\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801\u5931\u8d25[${n.msg}]`,!0),Promise.reject({code:n.code,message:n.message})})}numberOnly(n){const o=n.which?n.which:n.keyCode;return!(o>31&&(o<48||o>57))}back(){"center"===this.to?this.navCtrl.navigateRoot(["/settings"],{queryParams:{menu:"settings",index:0},replaceUrl:!0}):this.location.historyGo(-2)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.HT),t.Y36(s.yF),t.Y36(v.t),t.Y36(O.v),t.Y36(s.SH),t.Y36(h.Y),t.Y36(s.IN),t.Y36(m.s),t.Y36(d.F0),t.Y36(d.gz),t.Y36(w.f),t.Y36(c.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-set-password"]],viewQuery:function(n,o){if(1&n&&t.Gf(S,5),2&n){let i;t.iGM(i=t.CRH())&&(o.appStatusContent=i.first)}},features:[t.qOj],decls:6,vars:12,consts:[["id","pageContent",3,"fullscreen","scrollEvents"],[1,"page-root","set-password",3,"ngClass"],[4,"ngIf"],[3,"retry"],["appStatusContent",""],[1,"app-container"],[1,"header"],[1,"title"],[1,"form-content"],["lines","none",1,"ion-no-padding"],["type","password","maxlength","6","placeholder","\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",3,"ngModel","inputmode","keypress","ngModelChange"],["type","password","maxlength","6","placeholder","\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",3,"ngModel","inputmode","keypress","ngModelChange"],[1,"tips"],["expand","block","fill","solid",3,"disabled","click"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0)(1,"div",1),t.YNc(2,T,4,0,"ng-container",2),t.YNc(3,b,5,0,"ng-container",2),t.YNc(4,D,16,5,"ng-container",2),t.qZA(),t._UZ(5,"app-common-footer"),t.qZA()),2&n&&(t.Tol(o.screenFitService.screenCategory),t.Q6J("fullscreen",o.themeService.immersive)("scrollEvents",!0),t.xp6(1),t.Tol(o.screenFitService.screenCategory),t.Q6J("ngClass",t.VKq(10,B,o.themeService.immersive)),t.xp6(1),t.Q6J("ngIf","desktop"==o.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","pad"==o.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","phone"==o.screenFitService.screenCategory))},directives:[s.W2,c.mk,c.O5,y.D,x.$,s.Ie,s.pK,s.j9,l.nD,l.JJ,l.On,s.YG,k.X],styles:[".flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.justify-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.justify-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.justify-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.justify-evenly[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.justify-around[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.justify-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align-start[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.align-center[_ngcontent-%COMP%]{display:flex;align-items:center}.align-end[_ngcontent-%COMP%]{display:flex;align-items:flex-end}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]{display:flex;align-items:center;width:700px;margin:0 auto}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > ion-icon[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:16px}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-weight:700;margin-left:10px}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{margin-top:30px}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:600}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:450px;margin-top:20px;padding:20px 30px;background-color:#fff;overflow:hidden}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%;--height: 48px;--border-color: #aaaaaa !important;--padding-start: 0px !important;--padding-end: 0px !important;--background: #eeeeee}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]:not(:first-of-type){margin-top:20px}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:auto;font-size:16px}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]{width:100%;margin-top:20px}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;color:#aaa}div.page-root.set-password.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{width:100%;height:44px;margin-top:40px;--ion-color-primary: #3D464F;--color: #ffffff;font-size:14px;font-weight:600}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin:0 auto}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > ion-icon[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{color:#e2aa6f}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:16px}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%] > div.back[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-weight:700;margin-left:10px}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%]{margin-top:30px}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:600}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;margin-top:20px}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{width:100%;--height: 48px;--border-color: #aaaaaa !important;--padding-start: 10px !important;--padding-end: 10px !important;--background: #eeeeee}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]:not(:first-of-type){margin-top:20px}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:auto;font-size:16px}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]{width:100%;margin-top:10px}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > div.tips[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;color:#aaa}div.page-root.set-password.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%] > div.form-content[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{width:100%;height:44px;margin-top:140px;--ion-color-primary: #3D464F;--color: #ffffff;font-size:14px;font-weight:600}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(F)],d.Bz]}),e})();var E=a(9277),j=a(9721);let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,l.u5,s.Pc,E.G,j.x,Z]]}),e})()}}]);