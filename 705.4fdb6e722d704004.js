"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[705],{705:(z,p,i)=>{i.r(p),i.d(p,{TestThreeJsOfJolinPageModule:()=>Z});var f=i(9808),u=i(3075),r=i(8962),l=i(1192),h=i(655),d=i(7846),c=i(6682),t=i(9863),v=i(947),m=i(9993),C=i(5830),P=i(9609),T=i(5161),O=i(7873);const y=["appStatusContent"],J=["canvasRef"];function M(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(e),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._UZ(4,"canvas",null,6),t.qZA()(),t.BQk()}}function x(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(e),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._uU(4,"pad layout here"),t.qZA()(),t.BQk()}}function j(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-status-content",3,4),t.NdJ("retry",function(){return t.CHM(e),t.oxw().onRetry()}),t.TgZ(3,"div",5),t._UZ(4,"canvas",null,6),t.qZA()(),t.BQk()}}const S=[{path:"",component:(()=>{class n extends d.n{constructor(e,s,a,g,F,Y,w,A,E){super(e,s,a,g),this.loadingCtrl=e,this.toastCtrl=s,this.runtime=a,this.screenFitService=g,this.navCtrl=F,this.modalCtrl=Y,this.api=w,this.router=A,this.themeService=E,this.subscribeResult=null,this.rotationSpeedX=.005,this.rotationSpeedY=.01,this.mCubeSize=200,this.mTexture="/assets/texture/request_error.png",this.mCameraZ=400,this.filedOfView=70,this.nearClippingPane=1,this.farClippingPane=1e3}get canvas(){return this.canvasRef.nativeElement}ngOnInit(){this.subscribeResult=this.router.events.subscribe(e=>{e instanceof l.m2&&"/test-three-js-of-jolin"==e.url&&this.setPageTitle("TestThreeJsOfJolin")})}ngOnDestroy(){this.subscribeResult&&(this.subscribeResult.unsubscribe(),this.subscribeResult=null)}initData(){return(0,h.mG)(this,void 0,void 0,function*(){this.appStatusContent.invokeSuccess(),setTimeout(()=>{this.createScene(),this.startRenderingLoop()},100)})}ionViewWillEnter(){this.setPageTitle("TestThreeJsOfJolin")}ionViewDidEnter(){(()=>(0,h.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(e=>{console.error("[init data errror]",e),this.appStatusContent.invokeError()})}onRetry(){(()=>(0,h.mG)(this,void 0,void 0,function*(){yield this.initData()}))().catch(e=>{console.error("[init data errror]",e),this.appStatusContent.invokeError()})}getAspectRatio(){return this.canvas.clientWidth/this.canvas.clientHeight}createScene(){this.mScene=new c.xsS;const e=this.getAspectRatio();this.mCamera=new c.cPb(this.filedOfView,e,this.nearClippingPane,this.farClippingPane),this.mCamera.position.z=this.mCameraZ}animateCube(){if(!this.mCube){const e=new c.DvJ(this.mCubeSize,this.mCubeSize,this.mCubeSize),s=new c.vBJ({color:65535});this.mCube=new c.Kj0(e,s),this.mScene.add(this.mCube)}this.mCube.rotation.x+=this.rotationSpeedX,this.mCube.rotation.y+=this.rotationSpeedY}startRenderingLoop(){this.mRender=new c.CP7({canvas:this.canvas}),this.mRender.setPixelRatio(devicePixelRatio),this.mRender.setSize(this.canvas.clientWidth,this.canvas.clientHeight);const e=this;!function s(){requestAnimationFrame(s),e.animateCube(),e.mRender.render(e.mScene,e.mCamera)}()}back(){this.navCtrl.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.HT),t.Y36(r.yF),t.Y36(v.t),t.Y36(m.v),t.Y36(r.SH),t.Y36(r.IN),t.Y36(C.s),t.Y36(l.F0),t.Y36(P.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-three-js-of-jolin"]],viewQuery:function(e,s){if(1&e&&(t.Gf(y,5),t.Gf(J,5)),2&e){let a;t.iGM(a=t.CRH())&&(s.appStatusContent=a.first),t.iGM(a=t.CRH())&&(s.canvasRef=a.first)}},features:[t.qOj],decls:6,vars:9,consts:[["id","pageContent",3,"fullscreen","scrollEvents"],[1,"page-root","test-three-js-of-jolin"],[4,"ngIf"],[3,"retry"],["appStatusContent",""],[1,"app-container"],["canvasRef",""]],template:function(e,s){1&e&&(t.TgZ(0,"ion-content",0)(1,"div",1),t.YNc(2,M,6,0,"ng-container",2),t.YNc(3,x,5,0,"ng-container",2),t.YNc(4,j,6,0,"ng-container",2),t.qZA(),t._UZ(5,"app-common-footer"),t.qZA()),2&e&&(t.Tol(s.screenFitService.screenCategory),t.Q6J("fullscreen",s.themeService.immersive)("scrollEvents",!0),t.xp6(1),t.Tol(s.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","desktop"==s.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","pad"==s.screenFitService.screenCategory),t.xp6(1),t.Q6J("ngIf","phone"==s.screenFitService.screenCategory))},directives:[r.W2,f.O5,T.D,O.X],styles:[".flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.justify-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.justify-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.justify-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.justify-evenly[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.justify-around[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.justify-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.align-start[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.align-center[_ngcontent-%COMP%]{display:flex;align-items:center}.align-end[_ngcontent-%COMP%]{display:flex;align-items:flex-end}div.page-root.test-three-js-of-jolin.desktop[_ngcontent-%COMP%]{padding:0}div.page-root.test-three-js-of-jolin.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{padding:0}div.page-root.test-three-js-of-jolin.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100vw;height:100vh}@supports (-webkit-touch-callout: none){div.page-root.test-three-js-of-jolin.desktop[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100)}}div.page-root.test-three-js-of-jolin.phone[_ngcontent-%COMP%]{padding:0}div.page-root.test-three-js-of-jolin.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]{padding:0}div.page-root.test-three-js-of-jolin.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100vw;height:100vh}@supports (-webkit-touch-callout: none){div.page-root.test-three-js-of-jolin.phone[_ngcontent-%COMP%]   app-status-content[_ngcontent-%COMP%]   div.app-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100)}}"]}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(S)],l.Bz]}),n})();var _=i(9277),b=i(9721);let Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,u.u5,r.Pc,_.G,b.x,R]]}),n})()}}]);